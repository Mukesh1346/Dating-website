(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["34940"],{376030:function(e,t,n){n.d(t,{Z:()=>ee});var i,r,a={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},o={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},l=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],s={CSS:{},springs:{}};function d(e,t,n){return Math.min(Math.max(e,t),n)}function c(e,t){return e.indexOf(t)>-1}function u(e,t){return e.apply(null,t)}var h={arr:function(e){return Array.isArray(e)},obj:function(e){return c(Object.prototype.toString.call(e),"Object")},pth:function(e){return h.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||h.svg(e)},str:function(e){return"string"==typeof e},fnc:function(e){return"function"==typeof e},und:function(e){return void 0===e},nil:function(e){return h.und(e)||null===e},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return h.hex(e)||h.rgb(e)||h.hsl(e)},key:function(e){return!a.hasOwnProperty(e)&&!o.hasOwnProperty(e)&&"targets"!==e&&"keyframes"!==e}};function p(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map(function(e){return parseFloat(e)}):[]}function _(e,t){var n=p(e),i=d(h.und(n[0])?1:n[0],.1,100),r=d(h.und(n[1])?100:n[1],.1,100),a=d(h.und(n[2])?10:n[2],.1,100),o=d(h.und(n[3])?0:n[3],.1,100),l=Math.sqrt(r/i),c=a/(2*Math.sqrt(r*i)),u=c<1?l*Math.sqrt(1-c*c):0,_=c<1?(c*l+-o)/u:-o+l;function g(e){var n=t?t*e/1e3:e;return(n=c<1?Math.exp(-n*c*l)*(+Math.cos(u*n)+_*Math.sin(u*n)):(1+_*n)*Math.exp(-n*l),0===e||1===e)?e:1-n}return t?g:function(){var t=s.springs[e];if(t)return t;for(var n=1/6,i=0,r=0;;)if(1===g(i+=n)){if(++r>=16)break}else r=0;var a=i*n*1e3;return s.springs[e]=a,a}}function g(e){return void 0===e&&(e=10),function(t){return Math.ceil(d(t,1e-6,1)*e)*(1/e)}}var m=function(){function e(e,t,n){return(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e}function t(e,t,n){return 3*(1-3*n+3*t)*e*e+2*(3*n-6*t)*e+3*t}return function(n,i,r,a){if(0<=n&&n<=1&&0<=r&&r<=1){var o=new Float32Array(11);if(n!==i||r!==a)for(var l=0;l<11;++l)o[l]=e(.1*l,n,r);return function(l){return n===i&&r===a||0===l||1===l?l:e(function(i){for(var a=0,l=1;10!==l&&o[l]<=i;++l)a+=.1;var s=a+(i-o[--l])/(o[l+1]-o[l])*.1,d=t(s,n,r);if(d>=.001){for(var c=s,u=0;u<4;++u){var h=t(c,n,r);if(0===h)break;var p=e(c,n,r)-i;c-=p/h}return c}return 0===d?s:function(t,n,i,r,a){var o,l,s=0;do(o=e(l=n+(i-n)/2,r,a)-t)>0?i=l:n=l;while(Math.abs(o)>1e-7&&++s<10);return l}(i,a,a+.1,n,r)}(l),i,a)}}}}(),f=(i={linear:function(){return function(e){return e}}},r={Sine:function(){return function(e){return 1-Math.cos(e*Math.PI/2)}},Circ:function(){return function(e){return 1-Math.sqrt(1-e*e)}},Back:function(){return function(e){return e*e*(3*e-2)}},Bounce:function(){return function(e){for(var t,n=4;e<((t=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}},Elastic:function(e,t){void 0===e&&(e=1),void 0===t&&(t=.5);var n=d(e,1,10),i=d(t,.1,2);return function(e){return 0===e||1===e?e:-n*Math.pow(2,10*(e-1))*Math.sin(2*Math.PI*(e-1-i/(2*Math.PI)*Math.asin(1/n))/i)}}},["Quad","Cubic","Quart","Quint","Expo"].forEach(function(e,t){r[e]=function(){return function(e){return Math.pow(e,t+2)}}}),Object.keys(r).forEach(function(e){var t=r[e];i["easeIn"+e]=t,i["easeOut"+e]=function(e,n){return function(i){return 1-t(e,n)(1-i)}},i["easeInOut"+e]=function(e,n){return function(i){return i<.5?t(e,n)(2*i)/2:1-t(e,n)(-2*i+2)/2}},i["easeOutIn"+e]=function(e,n){return function(i){return i<.5?(1-t(e,n)(1-2*i))/2:(t(e,n)(2*i-1)+1)/2}}}),i);function y(e,t){if(h.fnc(e))return e;var n=e.split("(")[0],i=f[n],r=p(e);switch(n){case"spring":return _(e,t);case"cubicBezier":return u(m,r);case"steps":return u(g,r);default:return u(i,r)}}function b(e){try{return document.querySelectorAll(e)}catch(e){return}}function x(e,t){for(var n=e.length,i=arguments.length>=2?arguments[1]:void 0,r=[],a=0;a<n;a++)if(a in e){var o=e[a];t.call(i,o,a,e)&&r.push(o)}return r}function v(e){return e.reduce(function(e,t){return e.concat(h.arr(t)?v(t):t)},[])}function P(e){return h.arr(e)?e:(h.str(e)&&(e=b(e)||e),e instanceof NodeList||e instanceof HTMLCollection)?[].slice.call(e):[e]}function S(e,t){return e.some(function(e){return e===t})}function I(e){var t={};for(var n in e)t[n]=e[n];return t}function w(e,t){var n=I(e);for(var i in e)n[i]=t.hasOwnProperty(i)?t[i]:e[i];return n}function j(e,t){var n=I(e);for(var i in t)n[i]=h.und(e[i])?t[i]:e[i];return n}function k(e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[1]}function A(e,t){return h.fnc(e)?e(t.target,t.id,t.total):e}function T(e,t){return e.getAttribute(t)}function B(e,t,n){if(S([n,"deg","rad","turn"],k(t)))return t;var i=s.CSS[t+n];if(!h.und(i))return i;var r=document.createElement(e.tagName),a=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;a.appendChild(r),r.style.position="absolute",r.style.width=100+n;var o=100/r.offsetWidth;a.removeChild(r);var l=o*parseFloat(t);return s.CSS[t+n]=l,l}function E(e,t,n){if(t in e.style){var i=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),r=e.style[t]||getComputedStyle(e).getPropertyValue(i)||"0";return n?B(e,r,n):r}}function C(e,t){return h.dom(e)&&!h.inp(e)&&(!h.nil(T(e,t))||h.svg(e)&&e[t])?"attribute":h.dom(e)&&S(l,t)?"transform":h.dom(e)&&"transform"!==t&&E(e,t)?"css":null!=e[t]?"object":void 0}function R(e){if(h.dom(e)){for(var t,n=e.style.transform||"",i=/(\w+)\(([^)]*)\)/g,r=new Map;t=i.exec(n);)r.set(t[1],t[2]);return r}}function F(e,t,n,i){switch(C(e,t)){case"transform":var r,a;return r=c(t,"scale")?1:0+(c(t,"translate")||"perspective"===t?"px":c(t,"rotate")||c(t,"skew")?"deg":void 0),a=R(e).get(t)||r,i&&(i.transforms.list.set(t,a),i.transforms.last=t),n?B(e,a,n):a;case"css":return E(e,t,n);case"attribute":return T(e,t);default:return e[t]||0}}function Z(e,t){var n=/^(\*=|\+=|-=)/.exec(e);if(!n)return e;var i=k(e)||0,r=parseFloat(t),a=parseFloat(e.replace(n[0],""));switch(n[0][0]){case"+":return r+a+i;case"-":return r-a+i;case"*":return r*a+i}}function z(e,t){if(h.col(e)){var n,i,r;return h.rgb(e)?(n=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(e))?"rgba("+n[1]+",1)":e:h.hex(e)?(i=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,n,i){return t+t+n+n+i+i}),"rgba("+parseInt((r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(i))[1],16)+","+parseInt(r[2],16)+","+parseInt(r[3],16)+",1)"):h.hsl(e)?function(e){var t,n,i,r=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),a=parseInt(r[1],10)/360,o=parseInt(r[2],10)/100,l=parseInt(r[3],10)/100,s=r[4]||1;function d(e,t,n){return(n<0&&(n+=1),n>1&&(n-=1),n<1/6)?e+(t-e)*6*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(0==o)t=n=i=l;else{var c=l<.5?l*(1+o):l+o-l*o,u=2*l-c;t=d(u,c,a+1/3),n=d(u,c,a),i=d(u,c,a-1/3)}return"rgba("+255*t+","+255*n+","+255*i+","+s+")"}(e):void 0}if(/\s/g.test(e))return e;var a=k(e),o=a?e.substr(0,e.length-a.length):e;return t?o+t:o}function O(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function L(e){for(var t,n=e.points,i=0,r=0;r<n.numberOfItems;r++){var a=n.getItem(r);r>0&&(i+=O(t,a)),t=a}return i}function M(e){var t;if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return 2*Math.PI*T(e,"r");case"rect":return 2*T(e,"width")+2*T(e,"height");case"line":return O({x:T(e,"x1"),y:T(e,"y1")},{x:T(e,"x2"),y:T(e,"y2")});case"polyline":return L(e);case"polygon":return t=e.points,L(e)+O(t.getItem(t.numberOfItems-1),t.getItem(0))}}function D(e,t){var n=t||{},i=n.el||function(e){for(var t=e.parentNode;h.svg(t)&&h.svg(t.parentNode);)t=t.parentNode;return t}(e),r=i.getBoundingClientRect(),a=T(i,"viewBox"),o=r.width,l=r.height,s=n.viewBox||(a?a.split(" "):[0,0,o,l]);return{el:i,viewBox:s,x:s[0]/1,y:s[1]/1,w:o,h:l,vW:s[2],vH:s[3]}}function N(e,t){var n=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,i=z(h.pth(e)?e.totalLength:e,t)+"";return{original:i,numbers:i.match(n)?i.match(n).map(Number):[0],strings:h.str(e)||t?i.split(n):[]}}function H(e){return x(e?v(h.arr(e)?e.map(P):P(e)):[],function(e,t,n){return n.indexOf(e)===t})}function K(e){var t=H(e);return t.map(function(e,n){return{target:e,id:n,total:t.length,transforms:{list:R(e)}}})}var U={css:function(e,t,n){return e.style[t]=n},attribute:function(e,t,n){return e.setAttribute(t,n)},object:function(e,t,n){return e[t]=n},transform:function(e,t,n,i,r){if(i.list.set(t,n),t===i.last||r){var a="";i.list.forEach(function(e,t){a+=t+"("+e+") "}),e.style.transform=a}}};function W(e,t){K(e).forEach(function(e){for(var n in t){var i=A(t[n],e),r=e.target,a=k(i),o=F(r,n,a,e),l=Z(z(i,a||k(o)),o);U[C(r,n)](r,n,l,e.transforms,!0)}})}function $(e,t){var n=e.length,i=function(e){return e.timelineOffset?e.timelineOffset:0},r={};return r.duration=n?Math.max.apply(Math,e.map(function(e){return i(e)+e.duration})):t.duration,r.delay=n?Math.min.apply(Math,e.map(function(e){return i(e)+e.delay})):t.delay,r.endDelay=n?r.duration-Math.max.apply(Math,e.map(function(e){return i(e)+e.duration-e.endDelay})):t.endDelay,r}var Y=0,q=[],G=function(){var e;function t(n){for(var i=q.length,r=0;r<i;){var a=q[r];a.paused?(q.splice(r,1),i--):(a.tick(n),r++)}e=r>0?requestAnimationFrame(t):void 0}return"undefined"!=typeof document&&document.addEventListener("visibilitychange",function(){X.suspendWhenDocumentHidden&&(V()?e=cancelAnimationFrame(e):(q.forEach(function(e){return e._onDocumentVisibility()}),G()))}),function(){e||V()&&X.suspendWhenDocumentHidden||!(q.length>0)||(e=requestAnimationFrame(t))}}();function V(){return!!document&&document.hidden}function X(e){void 0===e&&(e={});var t,n,i,r,l,s,c,u,p,g=0,m=0,f=0,b=0,P=null;function S(e){var t=window.Promise&&new Promise(function(e){return P=e});return e.finished=t,t}var T=(n=w(a,t=e),r=function(e,t){var n=[],i=t.keyframes;for(var r in i&&(t=j(function(e){for(var t=x(v(e.map(function(e){return Object.keys(e)})),function(e){return h.key(e)}).reduce(function(e,t){return 0>e.indexOf(t)&&e.push(t),e},[]),n={},i=0;i<t.length;i++)!function(i){var r=t[i];n[r]=e.map(function(e){var t={};for(var n in e)h.key(n)?n==r&&(t.value=e[n]):t[n]=e[n];return t})}(i);return n}(i),t)),t)h.key(r)&&n.push({name:r,tweens:function(e,t){var n=I(t);if(/^spring/.test(n.easing)&&(n.duration=_(n.easing)),h.arr(e)){var i=e.length;2!==i||h.obj(e[0])?h.fnc(t.duration)||(n.duration=t.duration/i):e={value:e}}var r=h.arr(e)?e:[e];return r.map(function(e,n){var i=h.obj(e)&&!h.pth(e)?e:{value:e};return h.und(i.delay)&&(i.delay=n?0:t.delay),h.und(i.endDelay)&&(i.endDelay=n===r.length-1?t.endDelay:0),i}).map(function(e){return j(e,n)})}(t[r],e)});return n}(i=w(o,t),t),c=$(s=x(v((l=K(t.targets)).map(function(e){return r.map(function(t){var n=e,i=t,r=C(n.target,i.name);if(r){var a,o=i.tweens.map(function(e){var t=function(e,t){var n={};for(var i in e){var r=A(e[i],t);h.arr(r)&&1===(r=r.map(function(e){return A(e,t)})).length&&(r=r[0]),n[i]=r}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}(e,n),r=t.value,o=h.arr(r)?r[1]:r,l=k(o),s=F(n.target,i.name,l,n),d=a?a.to.original:s,c=h.arr(r)?r[0]:d,u=k(c)||k(s),p=l||u;return h.und(o)&&(o=d),t.from=N(c,p),t.to=N(Z(o,c),p),t.start=a?a.end:0,t.end=t.start+t.delay+t.duration+t.endDelay,t.easing=y(t.easing,t.duration),t.isPath=h.pth(r),t.isPathTargetInsideSVG=t.isPath&&h.svg(n.target),t.isColor=h.col(t.from.original),t.isColor&&(t.round=1),a=t,t}),l=o[o.length-1];return{type:r,property:i.name,animatable:n,tweens:o,duration:l.end,delay:o[0].delay,endDelay:l.endDelay}}})})),function(e){return!h.und(e)}),i),u=Y,Y++,j(n,{id:u,children:[],animatables:l,animations:s,duration:c.duration,delay:c.delay,endDelay:c.endDelay}));function B(){var e=T.direction;"alternate"!==e&&(T.direction="normal"!==e?"normal":"reverse"),T.reversed=!T.reversed,p.forEach(function(e){return e.reversed=T.reversed})}function E(e){return T.reversed?T.duration-e:e}function R(){g=0,m=E(T.currentTime)*(1/X.speed)}function z(e,t){t&&t.seek(e-t.timelineOffset)}function O(e){for(var t=0,n=T.animations,i=n.length;t<i;){var r=n[t],a=r.animatable,o=r.tweens,l=o.length-1,s=o[l];l&&(s=x(o,function(t){return e<t.end})[0]||s);for(var c=d(e-s.start-s.delay,0,s.duration)/s.duration,u=isNaN(c)?1:s.easing(c),h=s.to.strings,p=s.round,_=[],g=s.to.numbers.length,m=void 0,f=0;f<g;f++){var y=void 0,b=s.to.numbers[f],v=s.from.numbers[f]||0;y=s.isPath?function(e,t,n){function i(n){void 0===n&&(n=0);var i=t+n>=1?t+n:0;return e.el.getPointAtLength(i)}var r=D(e.el,e.svg),a=i(),o=i(-1),l=i(1),s=n?1:r.w/r.vW,d=n?1:r.h/r.vH;switch(e.property){case"x":return(a.x-r.x)*s;case"y":return(a.y-r.y)*d;case"angle":return 180*Math.atan2(l.y-o.y,l.x-o.x)/Math.PI}}(s.value,u*b,s.isPathTargetInsideSVG):v+u*(b-v),p&&!(s.isColor&&f>2)&&(y=Math.round(y*p)/p),_.push(y)}var P=h.length;if(P){m=h[0];for(var S=0;S<P;S++){h[S];var I=h[S+1],w=_[S];isNaN(w)||(I?m+=w+I:m+=w+" ")}}else m=_[0];U[r.type](a.target,r.property,m,a.transforms),r.currentValue=m,t++}}function L(e){T[e]&&!T.passThrough&&T[e](T)}function M(e){var t=T.duration,n=T.delay,i=t-T.endDelay,r=E(e);T.progress=d(r/t*100,0,100),T.reversePlayback=r<T.currentTime,p&&function(e){if(T.reversePlayback)for(var t=b;t--;)z(e,p[t]);else for(var n=0;n<b;n++)z(e,p[n])}(r),!T.began&&T.currentTime>0&&(T.began=!0,L("begin")),!T.loopBegan&&T.currentTime>0&&(T.loopBegan=!0,L("loopBegin")),r<=n&&0!==T.currentTime&&O(0),(r>=i&&T.currentTime!==t||!t)&&O(t),r>n&&r<i?(T.changeBegan||(T.changeBegan=!0,T.changeCompleted=!1,L("changeBegin")),L("change"),O(r)):T.changeBegan&&(T.changeCompleted=!0,T.changeBegan=!1,L("changeComplete")),T.currentTime=d(r,0,t),T.began&&L("update"),e>=t&&(m=0,T.remaining&&!0!==T.remaining&&T.remaining--,T.remaining?(g=f,L("loopComplete"),T.loopBegan=!1,"alternate"===T.direction&&B()):(T.paused=!0,!T.completed&&(T.completed=!0,L("loopComplete"),L("complete"),!T.passThrough&&"Promise"in window&&(P(),S(T)))))}return S(T),T.reset=function(){var e=T.direction;T.passThrough=!1,T.currentTime=0,T.progress=0,T.paused=!0,T.began=!1,T.loopBegan=!1,T.changeBegan=!1,T.completed=!1,T.changeCompleted=!1,T.reversePlayback=!1,T.reversed="reverse"===e,T.remaining=T.loop,b=(p=T.children).length;for(var t=b;t--;)T.children[t].reset();(T.reversed&&!0!==T.loop||"alternate"===e&&1===T.loop)&&T.remaining++,O(T.reversed?T.duration:0)},T._onDocumentVisibility=R,T.set=function(e,t){return W(e,t),T},T.tick=function(e){f=e,g||(g=f),M((f+(m-g))*X.speed)},T.seek=function(e){M(E(e))},T.pause=function(){T.paused=!0,R()},T.play=function(){T.paused&&(T.completed&&T.reset(),T.paused=!1,q.push(T),R(),G())},T.reverse=function(){B(),T.completed=!T.reversed,R()},T.restart=function(){T.reset(),T.play()},T.remove=function(e){J(H(e),T)},T.reset(),T.autoplay&&T.play(),T}function Q(e,t){for(var n=t.length;n--;)S(e,t[n].animatable.target)&&t.splice(n,1)}function J(e,t){var n=t.animations,i=t.children;Q(e,n);for(var r=i.length;r--;){var a=i[r],o=a.animations;Q(e,o),o.length||a.children.length||i.splice(r,1)}n.length||i.length||t.pause()}X.version="3.2.1",X.speed=1,X.suspendWhenDocumentHidden=!0,X.running=q,X.remove=function(e){for(var t=H(e),n=q.length;n--;)J(t,q[n])},X.get=F,X.set=W,X.convertPx=B,X.path=function(e,t){var n=h.str(e)?b(e)[0]:e,i=t||100;return function(e){return{property:e,el:n,svg:D(n),totalLength:M(n)*(i/100)}}},X.setDashoffset=function(e){var t=M(e);return e.setAttribute("stroke-dasharray",t),t},X.stagger=function(e,t){void 0===t&&(t={});var n=t.direction||"normal",i=t.easing?y(t.easing):null,r=t.grid,a=t.axis,o=t.from||0,l="first"===o,s="center"===o,d="last"===o,c=h.arr(e),u=c?parseFloat(e[0]):parseFloat(e),p=c?parseFloat(e[1]):0,_=k(c?e[1]:e)||0,g=t.start||0+(c?u:0),m=[],f=0;return function(e,t,h){if(l&&(o=0),s&&(o=(h-1)/2),d&&(o=h-1),!m.length){for(var y=0;y<h;y++){if(r){var b=s?(r[0]-1)/2:o%r[0],x=s?(r[1]-1)/2:Math.floor(o/r[0]),v=y%r[0],P=Math.floor(y/r[0]),S=b-v,I=x-P,w=Math.sqrt(S*S+I*I);"x"===a&&(w=-S),"y"===a&&(w=-I),m.push(w)}else m.push(Math.abs(o-y));f=Math.max.apply(Math,m)}i&&(m=m.map(function(e){return i(e/f)*f})),"reverse"===n&&(m=m.map(function(e){return a?e<0?-1*e:-e:Math.abs(f-e)}))}return g+(c?(p-u)/f:u)*(Math.round(100*m[t])/100)+_}},X.timeline=function(e){void 0===e&&(e={});var t=X(e);return t.duration=0,t.add=function(n,i){var r=q.indexOf(t),a=t.children;function l(e){e.passThrough=!0}r>-1&&q.splice(r,1);for(var s=0;s<a.length;s++)l(a[s]);var d=j(n,w(o,e));d.targets=d.targets||e.targets;var c=t.duration;d.autoplay=!1,d.direction=t.direction,d.timelineOffset=h.und(i)?c:Z(i,c),l(t),t.seek(d.timelineOffset);var u=X(d);l(u),a.push(u);var p=$(a,e);return t.delay=p.delay,t.endDelay=p.endDelay,t.duration=p.duration,t.seek(0),t.reset(),t.autoplay&&t.play(),t},t},X.easing=y,X.penner=f,X.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};let ee=X},764227:function(e,t,n){n.r(t),n.d(t,{default:()=>r});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardPickerList_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],type:"Pin",abstractKey:null};i.hash="76b22cc5d658befe1dc27454d3aee77f";let r=i},853213:function(e,t,n){var i;n.r(t),n.d(t,{default:()=>a});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardTitleSuggestionList_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BoardSection",kind:"LinkedField",name:"section",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:i,storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};r.hash="69ffcdea57a7778d2ebbcd41c276c0d0";let a=r},645632:function(e,t,n){n.r(t),n.d(t,{default:()=>r});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupRepinPage_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null}],type:"Pin",abstractKey:null};i.hash="60ba8f292ef82335c3d4cbce50f362d8";let r=i},148281:function(e,t,n){var i;n.r(t),n.d(t,{default:()=>a});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RepinAddSection_pin",selections:[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};r.hash="b3ec14d29962e56f80dd52e7e6d7a6d9";let a=r},205725:function(e,t,n){var i;n.r(t),n.d(t,{default:()=>a});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RepinBoardPicker_pin",selections:[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[i],storageKey:null},{args:null,kind:"FragmentSpread",name:"BoardPickerList_pin"},{args:null,kind:"FragmentSpread",name:"BoardTitleSuggestionList_pin"},{args:null,kind:"FragmentSpread",name:"useClientTrackingParams_pin"}],type:"Pin",abstractKey:null};r.hash="475036dcb56a51d3552313200b8c9d45";let a=r},727382:function(e,t,n){var i;n.r(t),n.d(t,{default:()=>a});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RepinCreateBoardButton_pin",selections:[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[i],storageKey:null}],type:"Pin",abstractKey:null};r.hash="1612c2df94f42990b3d4f6ccede72a70";let a=r},252031:function(e,t,n){n.r(t),n.d(t,{default:()=>r});let i=(a=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],o=[{kind:"Variable",name:"pin",variableName:"pinId"}],s={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},u=[l={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"RepinPageQuery",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"RepinPage_pin"}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"RepinPageQuery",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},s,{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},d,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},c,s,d],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]},{alias:null,args:null,concreteType:"BoardSection",kind:"LinkedField",name:"section",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null},c],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:u,storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:u,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:u,storageKey:null}],storageKey:null},c],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"07d289e6c922ebc4ed21efcdd6fb425983d982a2c8a0484ddaf1b91db1391adf",metadata:{},name:"RepinPageQuery",operationKind:"query",text:null}});i.hash="76093586a269ca0330e25a57bd33f665";let r=i;var a,o,l,s,d,c,u,h=i.default||i;if("query"===h.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(h);else{let e=[h.params.name,h.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[e]=h}},713443:function(e,t,n){n.r(t),n.d(t,{default:()=>r});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RepinPage_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:null,kind:"FragmentSpread",name:"RepinAddSection_pin"},{args:null,kind:"FragmentSpread",name:"RepinBoardPicker_pin"},{args:null,kind:"FragmentSpread",name:"RepinSectionPicker_pin"},{args:null,kind:"FragmentSpread",name:"RepinCreateBoardButton_pin"}],type:"Pin",abstractKey:null};i.hash="b1432f4e80d112c155f930f7ed3760cd";let r=i},428988:function(e,t,n){var i;n.r(t),n.d(t,{default:()=>a});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RepinSectionPicker_pin",selections:[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[i],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],type:"Pin",abstractKey:null};r.hash="f0b2fbadfba92480a2077999a000a308";let a=r},182522:function(e,t,n){n.r(t),n.d(t,{default:()=>r});let i={fragment:{argumentDefinitions:a=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"useFetchBoardTitleSuggestionsQuery",selections:[{alias:null,args:o=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[l={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[s={alias:null,args:null,concreteType:"BoardTitleSuggestions",kind:"LinkedField",name:"boardTitleSuggestions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null},d={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useFetchBoardTitleSuggestionsQuery",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[s,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null},d],storageKey:null}]},params:{id:"dfccee15ebd4af4563083cc11670f30e6390ba0f2d1317da3d908269f01eadba",metadata:{},name:"useFetchBoardTitleSuggestionsQuery",operationKind:"query",text:null}};i.hash="a8967078f1de7ce3a263a224d0d0e710";let r=i;var a,o,l,s,d,c=i.default||i;if("query"===c.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(c);else{let e=[c.params.name,c.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[e]=c}},377654:function(e,t,n){n.d(t,{Rq:()=>i,Vf:()=>r,jd:()=>a,oy:()=>o});let i=e=>"ios"===e&&(window.devicePixelRatio||1)*window.screen.height==2436,r=28,a=e=>window.innerHeight>=748&&i(e),o=()=>"undefined"!=typeof window&&!!window.navigator&&(/iPad/.test(navigator.platform)||"MacIntel"===navigator.platform&&"ontouchend"in document&&Math.min(window.screen.width,window.screen.height)>=700)},473304:function(e,t,n){n.d(t,{Z:()=>c});var i=n(667294),r=n(883119),a=n(876594),o=n(667835),l=n(816358),s=n(516114),d=n(785893);function c({children:e,footerConfig:t,headerConfig:n,height:c,hideOnScroll:u,hideOnScrollState:{isHidden:h,updateHiddenState:p},noPadding:_,paddingY:g=s.og,type:m,zIndex:f}){let y,b,{headerLimitedOverflow:x,ignoreObstructions:v,zIndexForGestaltBug:P}=n||{},{appUpsellFooterConfig:S,footerInLego:I,navFooterConfig:w}=t||{},j=!!S,k="header"===m?"top":"bottom",A=(0,o.vs)(),T=(0,i.useRef)(null),B=(0,i.useRef)(null);(0,i.useEffect)(()=>{try{if(!v){let e=T.current;B.current=x&&e&&Array.isArray(e.children)?e.children[0]:e,B.current instanceof HTMLElement&&l.Z.addObstruction(k,B.current)}}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}return()=>{!v&&B.current instanceof HTMLElement&&l.Z.removeObstruction(k,B.current)}},[v,x,k,A]);let E="top"===k?"relative":"fixed",C=(c??s.R$)+(n?.overrideTop||0),R=u||w?{transition:I?"transform 300ms ease-in-out, opacity 300ms ease-in-out":"transform 200ms linear",...h?{transform:`translateY(${"top"===k?-C:C}px)`,opacity:+!I}:Object.freeze({})}:{},F=2*!("relative"!==E||n?.noGutter),Z=F?-F:0;A&&("header"===m?y=-1:b=-1);let z=n?.isTransparentBackground&&a.o7L||n?.isTranslucent&&(A?"rgba(0,0,0,.95)":"rgba(255,255,255,.95)")||a.k95;return(0,d.jsx)(r.xu,{ref:T,bottom:"footer"===m,dangerouslySetInlineStyle:{__style:{top:y,bottomStyle:b,...!f||P?{zIndex:P||1}:Object.freeze({}),...x?{background:"transparent",overflow:"hidden",paddingBottom:s.UB,marginBottom:-s.UB,pointerEvents:"none"}:Object.freeze({}),...n?.hasBorder?{borderBottom:s.dS}:Object.freeze({}),...t?.hasTopShadow?{boxShadow:"0 -2px 4px 1px rgba(0, 0, 0, 0.08)"}:Object.freeze({}),...R}},"data-test-id":m,display:j?"flex":void 0,height:c&&!I?c:void 0,left:!0,marginEnd:I?"auto":Z,marginStart:I?"auto":Z,onTransitionEnd:()=>{(u||w)&&B.current&&(h?l.Z.removeObstruction(k,B.current):l.Z.addObstruction(k,B.current))},position:E,right:!0,top:"header"===m,width:I||"fixed"!==E?void 0:"100%",zIndex:P?void 0:f,children:(0,d.jsx)(r.xu,{alignItems:t?.alignCenter?"center":void 0,dangerouslySetInlineStyle:{__style:{backgroundColor:z,height:I?j?void 0:c??s.R$:"100%",boxShadow:I?s.KJ:void 0,marginBottom:I&&!w?.docked?16:void 0,...x?{pointerEvents:"auto"}:Object.freeze({}),...n?.useRoundedCorners?{zIndex:5,borderTopRightRadius:17,borderTopLeftRadius:17,borderBottomRightRadius:0,borderBottomLeftRadius:0}:Object.freeze({})}},display:I||t?.alignCenter?"flex":void 0,marginEnd:I?"auto":void 0,marginStart:I?"auto":void 0,paddingX:4*("footer"===m&&!_)+F,paddingY:_?0:g,position:"relative",rounding:I&&!w?.docked?"pill":void 0,width:w?w.footerWidth:j?void 0:"100%",children:"function"==typeof e?e({updateHiddenState:p}):e})})}},394962:function(e,t,n){n.d(t,{Z:()=>o});var i=n(473304),r=n(211887),a=n(785893);function o({alignCenter:e,appUpsellFooterConfig:t,footerInLego:n,hasTopShadow:o,navFooterConfig:l,...s}){return(0,a.jsx)(r.Z,{appUpsellFooterConfig:t,hideOnScroll:s.hideOnScroll,navFooterConfig:l?.scrollConfig,children:r=>(0,a.jsx)(i.Z,{...s,footerConfig:{alignCenter:e,appUpsellFooterConfig:t,footerInLego:n,hasTopShadow:o,navFooterConfig:l},hideOnScrollState:r,type:"footer"})})}},588367:function(e,t,n){n.r(t),n.d(t,{default:()=>s});var i=n(883119),r=n(516114),a=n(473304),o=n(211887),l=n(785893);function s({hasBorder:e,headerLimitedOverflow:t,ignoreObstructions:n,isTranslucent:s,isTransparentBackground:d,noGutter:c,overrideTop:u,useRoundedCorners:h,zIndexForGestaltBug:p,..._}){let{noPadding:g,paddingY:m=r.og,zIndex:f}=_;return(0,l.jsx)(i.Le,{height:t?r.LV+2*(g?0:m)*4:void 0,top:u||0,zIndex:f||void 0,children:(0,l.jsx)(o.Z,{hideOnScroll:_.hideOnScroll,children:i=>(0,l.jsx)(a.Z,{..._,headerConfig:{isTranslucent:s,isTransparentBackground:d,headerLimitedOverflow:t,hasBorder:e,ignoreObstructions:n,noGutter:c,overrideTop:u,zIndexForGestaltBug:p,useRoundedCorners:h},hideOnScrollState:i,type:"header"})})})}},211887:function(e,t,n){n.d(t,{Z:()=>o});var i=n(667294),r=n(159527);function a(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class o extends i.Component{constructor(...e){super(...e),a(this,"state",{isHidden:!!this.props.appUpsellFooterConfig||!!this.props.navFooterConfig?.isDockedNavOnPlp}),a(this,"lastScrollPos",0),a(this,"updateHiddenState",e=>{this.reqAnimationId=window.requestAnimationFrame(()=>{this.setState({isHidden:e})})}),a(this,"handleScroll",(0,r.Z)(()=>{let{appUpsellFooterConfig:e,navFooterConfig:t}=this.props,{isHidden:n}=this.state,i=window.scrollY,r=i-this.lastScrollPos,a="none",{scrollHeight:o,clientHeight:l}=document.documentElement||{};Number.isNaN(o)||Number.isNaN(l)||(a=r<0?i<=Math.abs((window.scrollMinY||0)+Math.max(r,20))?"start":"none":i>=(window.scrollMaxY||o-l)-Math.max(r,20)?"end":"none");let s=55*!t?.isModal;e?r>20&&n&&i>=500?e.shouldShowAfterScroll()&&(this.updateHiddenState(!1),t?.onScroll(!1)):(r<-20&&!n||i<=s)&&(this.updateHiddenState(!0),t?.onScroll(!0)):this.props.navFooterConfig?.isDockedNavOnPlp?"start"===a&&!n||i<=s?(this.updateHiddenState(!0),t?.onScroll(!0)):(i>s||"end"===a)&&n&&(this.updateHiddenState(!1),t?.onScroll(!1)):(r<-20||"start"===a)&&n||i<=s?(this.updateHiddenState(!1),t?.onScroll(!1)):(r>20||"end"===a)&&!n&&(this.updateHiddenState(!0),t?.onScroll(!0)),this.lastScrollPos=i},30))}componentDidMount(){try{(this.props.hideOnScroll||this.props.navFooterConfig?.isDockedNavOnPlp)&&window.addEventListener("scroll",this.handleScroll)}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}}componentWillUnmount(){(this.props.hideOnScroll||this.props.navFooterConfig?.isDockedNavOnPlp)&&window.removeEventListener("scroll",this.handleScroll),this.reqAnimationId&&(window.cancelAnimationFrame(this.reqAnimationId),this.reqAnimationId=null)}componentDidUpdate(e){!e.hideOnScroll&&this.props.hideOnScroll||!e.navFooterConfig?.isDockedNavOnPlp&&this.props.navFooterConfig?.isDockedNavOnPlp?(this.updateHiddenState(!0),window.addEventListener("scroll",this.handleScroll)):(e.hideOnScroll&&!this.props.hideOnScroll||e.navFooterConfig?.isDockedNavOnPlp&&!this.props.navFooterConfig?.isDockedNavOnPlp)&&(this.updateHiddenState(!1),window.removeEventListener("scroll",this.handleScroll))}render(){let{children:e,navFooterConfig:t}=this.props,{isHidden:n}=this.state;return e({isHidden:!t?.forceShow&&n,updateHiddenState:this.updateHiddenState})}}},841982:function(e,t,n){n.d(t,{Z:()=>s});var i=n(883119),r=n(93966),a=n(657389),o=n(647709),l=n(785893);let s=({children:e,roundedForLargeDevice:t})=>{let n="phone"!==(0,o.ZP)()&&t;return(0,a.V)()?(0,l.jsx)(i.xu,{marginEnd:-r.D6,marginStart:-r.D6,overflow:n?"hidden":void 0,rounding:n?6:void 0,children:(0,l.jsx)(a.C,{value:!1,children:e})}):e}},914061:function(e,t,n){n.r(t),n.d(t,{default:()=>d});var i=n(883119),r=n(93966),a=n(377654),o=n(657389),l=n(15667),s=n(785893);let d=({children:e,dataLayoutShiftBoundaryId:t,hasFixedHeader:n=!1,hasGutter:d=!0,height:c,showKeychainError:u=!1,useViewport:h=!1})=>{let p=(0,l.B)(),_=(0,a.jd)(p.userAgent.platform)?a.Vf:0;return(0,s.jsx)(i.xu,{"data-layout-shift-boundary-id":t||"PageContainer",height:h?`calc(100vh - ${_}px)`:c,paddingX:d?r.D6:void 0,paddingY:n||u?void 0:3,children:(0,s.jsx)(o.C,{value:!!d,children:e})})}},516114:function(e,t,n){n.d(t,{KJ:()=>l,LV:()=>o,R$:()=>i,UB:()=>a,dS:()=>s,og:()=>r});let i=64,r=3,a=100,o=44,l="0px 0px 8px rgba(0, 0, 0, 0.1)",s="1px solid #efefef"},657389:function(e,t,n){n.d(t,{C:()=>a,V:()=>o});var i=n(667294);let r=(0,i.createContext)(!1),a=r.Provider,o=()=>(0,i.useContext)(r)},461920:function(e,t,n){function i(e,t){let n;if(e.error){let{httpStatus:i,api_error_code:r,redirectUrl:a}=e.error;(404===i||401===i&&7===r)&&(n={pathname:t?"/ideas/":"/",state:{showError:!0}}),301===i&&a&&(n={pathname:a})}return n}n.d(t,{Z:()=>i})},444185:function(e,t,n){n.d(t,{Z:()=>a});var i=n(849233),r=n(943257);function a(e){let{enabledRouteRefresh:t,headers:n,name:a,noCache:o,options:l,schema:s}=e??{name:i.fY,options:null},d=!e,{fetchResource:c,ref:u}=(0,r.Z)({enabledRouteRefresh:t,headers:n,name:a,noCache:o,options:l,schema:s},d,!1);return d||c(),u}},374078:function(e,t,n){n.d(t,{Z:()=>s});var i=n(616550),r=n(506662),a=n(461920),o=n(886981),l=n(535701);function s(e){let t=(0,i.k6)(),n=(0,i.TH)(),{isAuth:s}=(0,l.Z)(),d=!s&&(0,r.L6)(n),c=(0,o.Z)(e),u=(0,a.Z)(c,d);return u&&t.replace(u.pathname,u.state),c}},762525:function(e,t,n){n.d(t,{Z:()=>a});var i=n(883119),r=n(785893);function a({text:e}){return(0,r.jsx)(i.xu,{display:"visuallyHidden",children:(0,r.jsx)(i.X6,{accessibilityLevel:1,children:e})})}},366859:function(e,t,n){n.d(t,{Z:()=>a});var i=n(883119),r=n(785893);function a({children:e,onMouseEnter:t,onMouseLeave:n,onTouch:a,rounding:o,fullWidth:l=!1,pressState:s="none",accessibilityLabel:d,role:c,dataTestId:u}){let h=(Array.isArray(s)?s:[s]).includes("compress");return(0,r.jsx)(i.iP,{accessibilityLabel:d,dataTestId:u,fullWidth:l,onMouseEnter:t&&(({event:e})=>t(e)),onMouseLeave:n&&(({event:e})=>n(e)),onTap:a&&(({event:e})=>a(e)),role:c,rounding:o,tapStyle:h?"compress":"none",children:e})}},629315:function(e,t,n){n.d(t,{Z:()=>c});var i=n(883119),r=n(525839),a=n(588367),o=n(914061),l=n(477213),s=n(588836),d=n(785893);function c(e){let t=(0,r.ZP)(),{backButtonIcon:n,errorMessage:c,name:u,onNextButtonTouch:h,onNameChange:p,selectedPinIds:_=[],useRoundedCorners:g}=e,m=_.length>0?130:64;return(0,d.jsxs)(o.default,{hasFixedHeader:!0,children:[(0,d.jsxs)(a.default,{height:m,paddingY:3,useRoundedCorners:g,children:[(0,d.jsxs)(i.kC,{alignItems:"center",justifyContent:"between",children:[(0,d.jsx)(s.Z,{color:"darkGray",icon:n||"cancel",padding:3,size:"sm"}),(0,d.jsx)(i.X6,{accessibilityLevel:1,size:"300",children:t._('Add section', 'for add board section page', 'for add board section page')}),(0,d.jsx)(i.xu,{"data-test-id":"create-section-button",children:(0,d.jsx)(i.zx,{accessibilityLabel:t._('Add', 'boardSectionCreate.Add.Button.Text', 'Add button accessibility label for board section create page'),color:"red",disabled:""===u.trim(),onClick:h,size:"lg",text:t._('Next', 'Next button for board section create page', 'Next button for board section create page')})})]}),_&&(0,d.jsx)(l.Z,{selectedPinIds:_})]}),(0,d.jsx)(i.xu,{"data-test-id":"addSectionName",paddingX:2,paddingY:3,children:(0,d.jsx)(i.nv,{errorMessage:c||"",id:"section-name-input",label:t._('Name', 'boardSectionCreate.TextField.Name.Label', 'TextField label to Name on BoardSectionCreate'),onChange:e=>p(e.event),size:"lg",value:u})})]})}},791694:function(e,t,n){n.d(t,{Z:()=>m});var i=n(667294),r=n(581722),a=n(883119),o=n(525839),l=n(886981),s=n(535701),d=n(435289),c=n(214239),u=n(145127),h=n(482633),p=n(993127),_=n(785893);let g=e=>((0,l.Z)({name:"BoardsResource",options:c.O.options({username:e,boardOrder:"custom",filterStories:!0,mixPublicSecret:!0})}),(0,r.v9)(e=>(0,u.Z)(e)||[]));function m({excludeBoardId:e,hideSectionPickerList:t,onRepin:n}){let r=(0,o.ZP)(),l=(0,s.Z)(),c=g(l.isAuth?l.username:""),[u,m]=(0,i.useState)(null),f=(e,i)=>{if(!t&&e&&i)return void m(i);n(i)};return c.length>0&&(u&&!t?(0,_.jsx)(p.Z,{boardId:u?.id,repin:(e,t)=>{u&&n(u,t)},showSectionRep:!0}):(0,_.jsxs)(a.xu,{"data-test-id":"board-picker-row-container",children:[(0,_.jsx)(a.xu,{marginTop:3,children:(0,_.jsx)(a.xv,{children:r._('All boards', 'title for board picker all boards section', 'title for board picker all boards section')})}),(0,_.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:`${d.T}px`}},paddingY:3,children:c.filter(t=>t.id!==e).map(e=>(0,_.jsx)(h.Z,{boardId:e.id,onBoardSelected:t=>f(t,e)},e.id))})]}))}},701523:function(e,t,n){n.d(t,{Wx:()=>k,ZP:()=>T});var i=n(667294),r=n(581722),a=n(616550),o=n(883119),l=n(475498),s=n(525839),d=n(394962),c=n(588367),u=n(914061),h=n(87853),p=n(435289),_=n(791694),g=n(477213),m=n(366859),f=n(782677),y=n(575108),b=n(72918),x=n(388023);let v=e=>t=>{let{source:n,target:i,pinIds:r}=e;if(t({type:"PINS_MOVE",payload:e}),n.boardlessPins||i.boardId!==n.boardId){let e={board_id:i.boardId,pin_ids:r,section_id:i.sectionId};return y.Z.create("BulkEditResource",e).callUpdate()}if(i.sectionId){let e={section_id:i.sectionId,pins:r},n="BoardSectionEditResource";return y.Z.create(n,e).callUpdate().then(i=>{let r=(0,f.Fv)(i.resource_response.data,x.Z[n]);return t((0,b.XM)(n,e,i,r)),i})}let a={section_id:n.sectionId,pins:r};return y.Z.create("BoardSectionPinsResource",a).callDelete()};var P=n(987782),S=n(588836),I=n(993127),w=n(785893);function j(e,t,n){return e?n._('Got it! Hang tight while we move all those Pins...', 'Toast message for bulk pins move.', 'Toast message for bulk pins move.'):t?n._('Saved to section!', ' - ', ' -- '):n._('Saved to board!', ' - ', ' -- ')}function k({onAddNewSection:e,useIconWithBackground:t}){let n=(0,s.ZP)();return(0,w.jsx)(d.Z,{alignCenter:t,height:t?p.y:p.T,children:(0,w.jsx)(m.Z,{onTouch:e,pressState:"none",children:(0,w.jsxs)(o.xu,{alignItems:"center","data-test-id":"addSectionButton",display:"flex",padding:+!t,children:[t?(0,w.jsx)(o.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{padding:"14px"}},rounding:2,children:(0,w.jsx)(o.JO,{accessibilityLabel:n._('Create board button', 'RepinSection.CreateBoard.Button', 'accessibility label for create board button'),color:"default",icon:"add",size:20})}):(0,w.jsx)(o.JO,{accessibilityLabel:n._('Add section button', ' - ', ' -- '),color:"error",icon:"add-circle",size:38}),t?(0,w.jsx)(o.xu,{marginStart:2,children:(0,w.jsx)(o.xv,{size:"400",weight:"bold",children:n._('Add section', 'Add new section to Pin to', 'Add new section to Pin to')})}):(0,w.jsx)(o.xu,{marginStart:3,children:(0,w.jsx)(o.xv,{weight:"bold",children:n._('Add section', 'Add new section to Pin to', 'Add new section to Pin to')})})]})})})}class A extends i.PureComponent{constructor(...e){var t,n,i;super(...e),t="onRepinToBoard",n=e=>{e.section_count?this.props.onRepinToBoardWithSections(e):this.props.repinToOtherBoard(e.id,this.props.i18n)},(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}render(){let{boardId:e,boardSectionId:t,orginalBoardId:n,onAddNewSection:i,repin:r,hideBoardPickerRow:a,selectedPinIds:l,isCollaborative:s}=this.props,d=n===e;return(0,w.jsxs)(u.default,{hasFixedHeader:!0,children:[(0,w.jsxs)(c.default,{hasBorder:!0,height:140,children:[(0,w.jsxs)(o.kC,{alignItems:"center",justifyContent:"start",children:[(0,w.jsx)(o.xu,{column:2,children:(0,w.jsx)(S.Z,{})}),(0,w.jsx)(o.xu,{column:8,children:(0,w.jsx)(o.X6,{accessibilityLevel:1,align:"center",size:"300",children:this.props.i18n._('Choose section', 'title for section selection in repin flow', 'title for section selection in repin flow')})}),(0,w.jsx)(o.xu,{column:2})]}),(0,w.jsx)(g.Z,{selectedPinIds:l})]}),e&&(0,w.jsx)(I.Z,{boardId:e,hideBoardPickerRow:d&&a,originalBoardId:n,repin:r,sectionId:t}),d&&(0,w.jsxs)(o.xu,{children:[!s&&(0,w.jsx)(_.Z,{excludeBoardId:e,hideSectionPickerList:!0,onRepin:this.onRepinToBoard}),(0,w.jsx)(k,{onAddNewSection:i})]})]})}}let T=function(e){let{inSelectAll:t,pinIds:n,orginalBoardId:i,boardSectionId:o,onRefreshBoardSection:d,url:c}=e,{showToast:u}=(0,h.F9)(),p=(0,s.ZP)(),_=(0,a.k6)(),g=(0,r.I0)(),m=async(e,r,a)=>{let s=r&&r.id,h={boardId:i,sectionId:o},p={boardId:e,sectionId:s},m=t?(0,P.Z)({source:h,target:p,excludePinIds:n}):v({source:h,target:p,pinIds:n});i!==e?(await g(m),_.push({pathname:c})):(await g(m),d&&await d()),u(({hideToast:e})=>(0,w.jsx)(l.Z,{onHide:e,text:j(t,s,a)}))},f=async(e,r)=>{let a={boardId:i,sectionId:o},s={boardId:e,sectionId:void 0};u(({hideToast:e})=>(0,w.jsx)(l.Z,{onHide:e,text:j(t,void 0,r)})),await g(t?(0,P.Z)({source:a,target:s,excludePinIds:n}):v({source:a,target:s,pinIds:n})),_.go(-2)};return(0,w.jsx)(A,{...e,i18n:p,repin:m,repinToOtherBoard:f})}},477213:function(e,t,n){n.d(t,{Z:()=>s});var i=n(667294),r=n(883119),a=n(525839),o=n(169053),l=n(785893);function s({selectedPinIds:e}){let t=(0,a.ZP)(),n=(0,i.useRef)(null),s=(0,o.AF)(),d=(e||[]).map(e=>s[e]).filter(Boolean);(0,i.useEffect)(()=>{let e=n.current;e&&(e.scrollLeft=e.scrollWidth-e.offsetWidth)},[d]);let c=d.map((e,n)=>{let{description:i,images:a}=e,o=a?.["236x"];return(0,l.jsx)(r.xu,{marginEnd:1,children:(0,l.jsx)(r.zd,{height:65,rounding:2,wash:!0,width:50,children:o?.url&&(0,l.jsx)(r.Ee,{alt:!!i?.trim()&&i?.trim()||t._('Selected Pin', 'SelectedPinsPreview.image.accessibilityLabel', 'Accessibility label for Pin image without description'),color:e.dominant_color??"",fit:"contain",naturalHeight:o?.height??1,naturalWidth:o?.width??1,src:o.url})})},n)});return(0,l.jsx)(r.xu,{ref:n,display:"flex",marginTop:2,overflow:"scroll",children:c})}},435289:function(e,t,n){n.d(t,{T:()=>i,y:()=>r});let i=70,r=80},156618:function(e,t,n){n.d(t,{Bb:()=>g,Bx:()=>l,F4:()=>o,Qj:()=>s,_6:()=>_,gv:()=>a,hg:()=>d,is:()=>h,jP:()=>p,lt:()=>r,oM:()=>c,wI:()=>u});var i=n(378888);let r=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),a=({firstName:e,i18n:t})=>e?(t._('{{ name }} invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends({{ name }}) board')).replace("{{ name }}",e):t._('Your friends invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends board'),o=e=>{let t=(0,i.mB)(e.search).board_url;if(t){let e=(0,i.Jx)(t),n=(0,i.XP)({accept_invite:!0,seamless:!0});return e.includes("?")?`${e}&${n}`:`${e}?${n}`}return e.pathname},l=e=>e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.'),s=e=>{let t=e.pathname;if(t.startsWith("/pin/")){let e=t.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/repin/`}return t},d=e=>e._('Log in to send this Pin', 'limitedLogin.modalHeader.send', 'Title on mobile web limited login modal to prompt users to login after they clicked send button.'),c=e=>e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.'),u=e=>{let t=e.pathname;if(t.startsWith("/pin/")){let e=t.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/edit/`}return t},h=e=>e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.'),p=e=>e._('Log in to hide this Pin', 'limitedLogin.modalHeader.hidePin', 'Title on mobile web limited login modal to prompt users to login after they clicked hide Pin button.'),_=e=>e._('Log in to share the profile', 'limitedLogin.modalHeader.shareProfile', 'Title on mobile web limited login modal to prompt users to login after they clicked share button on profile page.'),g=e=>e._('Log in to create a board', 'limitedLogin.modalHeader.createBoard', 'Title on mobile web limited login modal to prompt users to login to create a board.')},753830:function(e,t,n){n.d(t,{Z:()=>l});var i=n(525839),r=n(156618),a=n(848387),o=n(785893);function l({children:e,callbackFunction:t,modalHeader:n,nextLocation:l}){let s=(0,i.ZP)(),{viewer:d,loginForMore:c,limitedLoginModalSubheader:u,limitedLoginModalNextLocation:h}=(0,a.H)(),p="LIMITED_LOGIN"===d.type;return(0,o.jsx)("div",{onClickCapture:e=>{p&&(t&&t(),e&&(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()),c?.setVisible(!0),u?.setText(n||(0,r.lt)(s)),l&&h?.setRoute(l))},children:e})}},469526:function(e,t,n){n.d(t,{B:()=>d,g:()=>s});var i=n(667294),r=n(616550),a=n(729434),o=n(785893);let{Provider:l,useMaybeHook:s}=(0,a.Z)("NotifDetailRepinContext");function d({children:e}){let[t,n]=(0,i.useState)(Object.freeze({})),[a,s]=(0,i.useState)(!1),[d,c]=(0,i.useState)(!1),u=(0,r.TH)(),h=(0,i.useMemo)(()=>{let e=/^\/pin\/\d+\/repin\/?$/,i=/^\/news_hub\/\d+\/?$/;return{isSaved:e=>!!t[e],save:e=>{d&&n(t=>({...t,[e]:!0}))},reset:()=>{let t=window?.location.pathname||"";i.test(t)||e.test(t)||(n(Object.freeze({})),s(!1),c(!1))},isInNewsHubQuickSaveExpAndNewsHubPage:()=>{let e=u.pathname||"";return i.test(e)&&a},inNewsHubQuickSaveExp:a,setInNotifDetailPage:c,setInNewsHubQuickSaveExp:s}},[t,a,d,u]);return(0,o.jsx)(l,{value:h,children:e})}},979922:function(e,t,n){n.d(t,{Du:()=>O,HY:()=>z,Hn:()=>u,IY:()=>Z,Jw:()=>b,L7:()=>i,LT:()=>h,Nw:()=>j,Q_:()=>w,Qc:()=>r,Qv:()=>A,R5:()=>T,RA:()=>k,Tt:()=>E,UF:()=>d,UV:()=>o,VB:()=>v,W1:()=>a,Ws:()=>p,X:()=>R,X5:()=>B,Yt:()=>F,ZW:()=>s,cK:()=>P,cy:()=>y,fA:()=>M,gm:()=>x,h7:()=>I,k:()=>m,o4:()=>g,oL:()=>L,pK:()=>C,qf:()=>_,tr:()=>c,uD:()=>S,uO:()=>f,vF:()=>l});let i=1,r=2,a="female",o="male",l="unspecified",s="en-US",d="US",c=3,u="has_done_closeup",h="Welcome",p="Gender",_="CountryLocale",g="InterestPicker",m="UseCase",f="PinPicker",y="LoadingStep",b="AppInstall",x="NUX_PIN_PICKER_STEP_STATUS",v="NUX_USE_CASE_STEP_STATUS",P={NUX_GENDER_STEP_NAME:p,NUX_INTEREST_PICKER_STEP_NAME:g,NUX_USE_CASE_STEP_NAME:m,NUX_PIN_PICKER_STEP_NAME:f,NUX_LOADING_STEP_NAME:y,NUX_APP_INSTALL_STEP_NAME:b},S=2,I=3,w=6,j=112,k=160,A=270,T=60,B=1e3,E=2500,C=3,R=5,F=1,Z=2,z=3,O=5e3,L=250,M=1e10},96105:function(e,t,n){n.d(t,{Z:()=>w});var i=n(667294),r=n(376030),a=n(883119),o=n(525839),l=n(32937),s=n(341742),d=n(369416),c=n(785893);let u=`
@keyframes baseEduToastIconScale {
  0% {
    transform: scale(0)
  }
  30% {
    transform: scale(1.2);
  }
  50% {
    transform: scale(1);
  }
}
`;function h({addedStyles:e,button:t,headerText:n,icon:r,iconOverride:o,minHeight:l,subHeaderText:s}){return(0,c.jsx)(a.xu,{display:"flex",justifyContent:"center",paddingX:2,width:"100vw",children:(0,c.jsxs)(a.xu,{alignContent:"center",alignItems:"center",bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:{boxShadow:"0 3px 6px rgba(0,0,0,0.18)",transform:"translateY(-20px)",...e}},display:"flex",minHeight:l||75,padding:6,position:"relative",rounding:4,width:"100%",children:[(()=>{let e=o||(0,c.jsxs)(i.Fragment,{children:[(0,c.jsx)(d.Z,{unsafeCSS:u}),(0,c.jsx)(a.xu,{alignItems:"center",color:"education",dangerouslySetInlineStyle:{__style:{animation:"baseEduToastIconScale 3s"}},"data-test-id":"pin-save-toast",direction:"column",display:"flex",height:60,justifyContent:"center",minHeight:60,minWidth:60,rounding:"circle",width:60,children:(0,c.jsx)(a.JO,{accessibilityLabel:r.accessibilityLabel,color:r.color,dangerouslySetSvgPath:r.dangerouslySetSvgPath,icon:r.icon,inline:r.inline,size:r.size})})]});return(0,c.jsx)(a.xu,{marginEnd:4,children:e})})(),(0,c.jsxs)(a.xu,{"data-test-id":"pin-save-toast-header",marginEnd:"auto",children:[(0,c.jsx)(a.xv,{color:"default",weight:"bold",children:n}),!!s&&(0,c.jsx)(a.xu,{paddingY:1,children:(0,c.jsx)(a.xv,{color:"default",size:"300",children:s})})]}),(0,c.jsx)(a.xu,{display:"flex",flex:"shrink",marginStart:2,children:t})]})})}var p=n(783556);function _(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let g="cubicBezier(0.25, 0.1, 0.25, 1)",m="encourageToastIconContainer",f="encourageToastIconRadiateBg",y="encourageToastIconRadiateRing",b={targets:`#${m}`,duration:300,scale:1.4,easing:g},x={targets:`#${m}`,duration:300,scale:1,easing:g,endDelay:1e3},v={targets:`#${m}`,duration:300,scale:.42,easing:g},P={targets:`#${f}`,duration:400,opacity:0,scale:1.6,easing:g},S={targets:`#${y}`,duration:650,opacity:0,scale:2,easing:g};class I extends i.PureComponent{constructor(...e){super(...e),_(this,"delayTimer",null),_(this,"requestAnimationFrameId",null),_(this,"playAnimation",()=>{this.requestAnimationFrameId=window.requestAnimationFrame(()=>{(0,r.Z)(P),(0,r.Z)(S),(0,r.Z)(b).finished.then(()=>{(0,r.Z)(x).finished.then(()=>{r.Z.set(`#${m}`,{transformOrigin:"top right"}),(0,r.Z)(v)})})})}),_(this,"getHeaderText",()=>{let{text:e}=this.props;return Array.isArray(e)?e[0]:e}),_(this,"getIconProps",()=>({accessibilityLabel:this.props.i18n._('Check icon', 'Label for check icon on toast shown after board create', 'Label for check icon on toast shown after board create'),color:"inverse",icon:"check",size:30})),_(this,"getSubHeaderText",()=>{let{text:e}=this.props;return e instanceof Array&&e.length>1&&e[1]?e[1]:""}),_(this,"renderAnimatedIcon",()=>(0,c.jsxs)(a.xu,{height:68,position:"relative",width:68,children:[(0,c.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{left:"4px",top:"4px"}},"data-test-id":"pin-save-toast",height:60,overflow:"hidden",position:"absolute",rounding:4,width:60,children:this.props.thumbnail}),(0,c.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{transform:"scale(0)"}},height:68,id:m,position:"absolute",width:68,children:[(0,c.jsx)(a.xu,{color:"infoBase",dangerouslySetInlineStyle:{__style:{left:"0px",top:"0px",transform:"scale(0)"}},height:68,id:f,position:"absolute",rounding:"circle",width:68}),(0,c.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{borderWidth:"2px",borderStyle:"solid",borderColor:"#0074e8",left:"1px",top:"1px",transform:"scale(0)"}},height:66,id:y,opacity:1,position:"absolute",rounding:"circle",width:66}),(0,c.jsx)(a.xu,{alignItems:"center",color:"infoBase",direction:"column",display:"flex",height:68,justifyContent:"center",minHeight:68,minWidth:68,position:"absolute",rounding:"circle",width:68,children:(0,c.jsx)(a.JO,{accessibilityLabel:this.props.i18n._('Check icon', 'Label for check icon on toast shown after board create', 'Label for check icon on toast shown after board create'),color:"inverse",icon:"check",size:30})})]})]}))}componentDidMount(){this.delayTimer=setTimeout(this.playAnimation,700)}componentWillUnmount(){this.delayTimer&&clearTimeout(this.delayTimer),this.requestAnimationFrameId&&window.cancelAnimationFrame(this.requestAnimationFrameId)}render(){let{isRepinToExistingBoard:e,button:t}=this.props;return(0,c.jsx)(h,{button:t,headerText:this.getHeaderText(),icon:this.getIconProps(),iconOverride:e?void 0:this.renderAnimatedIcon(),subHeaderText:this.getSubHeaderText()})}}function w(e){let{duration:t,onHide:n}=e,r=(0,o.ZP)(),[d,u]=(0,i.useState)(!1),[h,_]=(0,i.useState)(!1),g=(0,i.useRef)(void 0),m=()=>{u(!0),g.current=setTimeout(n,200)},f=()=>{g.current&&clearTimeout(g.current)},y=()=>{g.current=setTimeout(m,t||p.w)};(0,s.Z)(()=>(setTimeout(()=>_(!0),100),y(),f));let b=(0,c.jsx)(I,{...e,i18n:r});return e.href&&(b=(0,c.jsx)(a.rU,{href:e.href,onClick:m,rounding:"pill",tapStyle:"none",children:b})),(0,c.jsx)(l.Z,{children:(0,c.jsx)(a.mh,{children:(0,c.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{...function({hiding:e,visible:t}){return t?e?{opacity:0,transform:"scale(1.0)",transition:"opacity transform .2s",pointerEvents:"none"}:{opacity:1,transition:"all 0.7s cubic-bezier(.19, 1.15, .48, 1)"}:Object.freeze({})}({hiding:d,visible:h})}},display:"flex",justifyContent:"center",position:"fixed",width:"100%",zIndex:p.k,children:b})})})}},810008:function(e,t,n){n.d(t,{_:()=>p,Z:()=>_});var i=n(667294),r=n(883119),a=n(525839),o=n(298097),l=n(169053),s=n(785893);function d({pinId:e}){let t=(0,l.S6)()(e);if(!t)return null;let n=[{url:t.images?.["236x"]?.url,name:t.grid_title||""}].filter(e=>e.url);return(0,s.jsx)(o.Z,{images:n})}let c=(0,i.lazy)(()=>Promise.resolve().then(n.bind(n,222401))),u=()=>(0, a.ZP)()._('Sweet save!', 'Header text on toast that appears after user creates their first board', 'Header text on toast that appears after user creates their first board'),h=()=>(0, a.ZP)()._('All your boards live on your profile', 'Subheader text on toast that appears after user creates their first board', 'Subheader text on toast that appears after user creates their first board'),p=e=>(0,s.jsx)(r.zd,{rounding:4,children:(0,s.jsxs)(r.kC,{alignItems:"stretch",direction:"row",height:"100%",justifyContent:"start",children:[(0,s.jsx)(r.sg,{span:8,children:(0,s.jsx)(r.xu,{"data-test-id":"pin-save-toast",height:36,width:36,children:e?(0,s.jsx)(r.Ee,{alt:"",color:"secondary",fit:"cover",naturalHeight:1,naturalWidth:1,src:e}):(0,s.jsx)(r.xu,{color:"secondary",height:"100%",width:"100%"})})}),(0,s.jsx)(r.sg,{span:5,children:(0,s.jsxs)(r.xu,{height:"100%",children:[(0,s.jsx)(r.xu,{height:"49%",position:"relative",children:(0,s.jsx)(r.xu,{color:"secondary",overflow:"hidden",width:"100%",children:(0,s.jsx)(r.xu,{bottom:!0,left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,children:(0,s.jsx)(r.xu,{color:"secondary",height:"100%",width:"100%"})})})}),(0,s.jsx)(r.xu,{height:"3%",position:"relative",children:(0,s.jsx)(r.xu,{color:"transparent",overflow:"hidden",width:"100%",children:(0,s.jsx)(r.xu,{bottom:!0,left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,children:(0,s.jsx)(r.xu,{color:"transparent",height:"100%",width:"100%"})})})}),(0,s.jsx)(r.xu,{height:"49%",position:"relative",children:(0,s.jsx)(r.xu,{color:"secondary",overflow:"hidden",width:"100%",children:(0,s.jsx)(r.xu,{bottom:!0,left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,children:(0,s.jsx)(r.xu,{color:"secondary",height:"100%",width:"100%"})})})})]})})]})}),_=({boardId:e,getReduxBoard:t,isFBC:n,pinId:a,viewType:o})=>{let l=t(e);return{duration:5e3,thumbnail:(0,s.jsx)(r.xu,{"data-test-id":"pin-save-toast",children:(0,s.jsx)(i.Suspense,{children:a?(0,s.jsx)(d,{pinId:a}):(0,s.jsx)(c,{boardKey:l?{type:"deprecated",data:l}:null,type:"thumbnail",viewType:o})})}),text:n?[(0,s.jsx)(u,{},"0"),(0,s.jsx)(h,{},"1")]:void 0}}},782251:function(e,t,n){n.d(t,{Z:()=>l});var i=n(581722),r=n(87853),a=n(979922),o=n(258644);function l(){let e=(0,i.I0)(),{showToast:t,showOneToast:n}=(0,r.F9)();return{showToast:t,showOneToast:n,showRepinConfirmation:(n,i)=>{i||e((0,o.WF)()),setTimeout(()=>{i||e((0,o.a5)()),t(n)},a.Tt)}}}},935404:function(e,t,n){n.d(t,{ZP:()=>tg});var i,r,a,o,l,s,d,c,u,h=n(667294),p=n(581722),_=n(167912),g=n(616550),m=n(883119),f=n(521009),y=n(318215),b=n(877956),x=n(982166),v=n(678213),P=n(475498),S=n(779548),I=n(801082),w=n(525839),j=n(302148),k=n(377654),A=n(588367),T=n(914061),B=n(274320),E=n(444185),C=n(374078),R=n(647709),F=n(535701),Z=n(701523),z=n(762525),O=n(620427);function L(e,t){return!!(e&&e.placement_id&&e.experience_id===t)}var M=n(156618),D=n(753830),N=n(469526),H=n(978417),K=n(785893);let U="cubic-bezier(0.66, 0.025, 0.33, 0.975)",W=(0,H.qe)((e,t,n,i,r)=>{let a=e,o=t,l=0,s=0,d="",c=Math.floor(t/3);if("shrinkToPin"===n&&(l="24px",s=1,a=Math.floor(3*c/2),o=c),"pinToGrid"===n&&i&&r){let e=i.getBoundingClientRect(),t=r.getBoundingClientRect(),n=t.x+t.width/2-(e.x+e.width/2),u=t.y+t.height/2-(e.y+e.height/2);d=`translate(${n}px, ${u}px)`,l="24px 0px 0px 24px",s=1,a=c,o=c}return{borderRadius:l,height:a,opacity:s,overflow:"hidden",width:o,WebkitTransformOrigin:"center center",transformOrigin:"center center",WebkitTransform:d,transform:d,WebkitTransition:`all .42s ${U}`,transition:`all .42s ${U}`}}),$=(0,H.qe)(e=>({opacity:+!!e,WebkitTransition:`opacity .42s ${U}`,transition:`opacity .42s ${U}`})),Y=(0,H.qe)(e=>({opacity:+!e,WebkitTransition:`all .25s ${U}`,transition:`all .25s ${U}`,zIndex:3}));function q({completeExperience:e,pinDominantColor:t,pinImageHeight:n,pinImageWidth:i,pinImageUrl:r}){let a,o,l,s,d=(0,w.ZP)(),[c,u]=(0,h.useState)("visible"),[p,_]=(0,h.useState)("none"),g=window.innerWidth,f=Math.floor(g/3),y=Math.floor(g/6);(0,h.useEffect)(()=>{r&&"none"===p&&(a=setTimeout(()=>{_("shrinkToPin")},85)),r&&"shrinkToPin"===p&&(o=setTimeout(()=>{_("pinToGrid")},2e3)),"pinToGrid"===p&&"visible"===c&&(l=setTimeout(()=>{u("hidden")},2e3)),"hidden"===c&&(s=setTimeout(()=>{u("none"),e()},300))}),(0,h.useEffect)(()=>()=>{clearTimeout(a),clearTimeout(o),clearTimeout(l),clearTimeout(s)},[]);let b=(0,h.useRef)(null),x=(0,h.useRef)(null);return(0,K.jsxs)(m.xu,{alignItems:"center",bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:Y("hidden"===c)},direction:"column",display:"none"===c?"none":"flex",justifyContent:"center",left:!0,position:"fixed",right:!0,top:!0,children:[(0,K.jsxs)(m.xu,{alignItems:"center",display:"flex",height:g/2,justifyContent:"center",marginBottom:8,position:"relative",width:"100%",children:[(0,K.jsx)(m.xu,{dangerouslySetInlineStyle:{__style:$("pinToGrid"===p)},position:"absolute",children:(0,K.jsx)(m.zd,{height:f,rounding:6,width:f+y+1,children:(0,K.jsxs)(m.kC,{alignItems:"stretch",justifyContent:"between",children:[(0,K.jsx)(m.xu,{ref:x,color:"transparent",height:f,width:f}),(0,K.jsxs)(m.kC,{alignItems:"stretch",direction:"column",justifyContent:"between",children:[(0,K.jsx)(m.xu,{color:"secondary",height:y,width:y}),(0,K.jsx)(m.xu,{color:"secondary",height:y,width:y})]})]})})}),(0,K.jsx)(m.xu,{ref:b,dangerouslySetInlineStyle:{__style:W(n/i*g,g,p,b.current,x.current)},position:"absolute",children:(0,K.jsx)(m.Ee,{alt:d._('Pin image', 'Pin image on repin page', 'Pin image on repin page'),color:t,fit:"cover",naturalHeight:n,naturalWidth:i,src:r})})]}),(0,K.jsx)(m.xu,{marginBottom:8,marginTop:8,paddingX:12,children:(0,K.jsx)(m.X6,{align:"center",size:"600",children:d._('Keep your ideas organized by creating a board', 'boardPicker.edu.heading', 'board create education shown before user create their first board')})})]})}var G=n(810008),V=n(96105),X=n(516114);function Q(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let J=["#0074e8","#0FA573","#B469EB","#F13535","#E2780D"],ee=(e,t)=>Math.random()*((e||1)-(t||0))+(t||0),et=e=>Math.PI/180*e;class en extends h.PureComponent{constructor(...e){super(...e),Q(this,"animationTimer",null),Q(this,"canvasRemovalTimer",null),Q(this,"childrenContainerRef",(0,h.createRef)()),Q(this,"containerRef",(0,h.createRef)()),Q(this,"buildCanvas",()=>{if(!this.containerRef.current)return null;let e=window.innerWidth,{height:t,top:n}=this.containerRef.current.getBoundingClientRect(),i=document.createElement("canvas");return i.style.position="absolute",i.style.left="0px",i.style.top=`${n-(e-t)/2}px`,i.style.pointerEvents="none",i.style.width=`${e}px`,i.style.height=`${e}px`,i.width=e,i.height=e,i}),Q(this,"explode",()=>{let e=this.buildCanvas();if(!e)return;let t=this.containerRef.current,n=this.childrenContainerRef.current,i=e.getContext("2d");t?.insertBefore(e,n);let r=Array.from(Array(120)).map(()=>({x:e.width/2,y:e.height/2,radius:Math.round(ee(10,30)),color:J[Math.floor(Math.random()*J.length)],degree:Number(ee(0,360).toFixed(1)),speed:Math.round(ee(0,25)),friction:.9,opacity:Number(ee(0,.5).toFixed(1)),yVel:0,gravity:.04})),a=(e,t,n,i)=>{window.requestAnimationFrame(()=>a(e,t,n,i)),t.clearRect(0,0,n,i),e.forEach(e=>{e.x+=e.speed*Math.cos(et(e.degree)),e.y+=e.speed*Math.sin(et(e.degree)),e.opacity-=.01,e.speed*=e.friction,e.radius*=e.friction,e.yVel+=e.gravity,e.y+=e.yVel,e.opacity<0||e.radius<0||(t.beginPath(),t.globalAlpha=e.opacity,t.fillStyle=e.color,t.arc(e.x,e.y,e.radius,0,2*Math.PI,!1),t.fill())})};i&&a(r,i,e.width,e.height),this.canvasRemovalTimer=setTimeout(()=>{t?.removeChild(e)},(this.props.delay||0)+1e3)})}componentDidUpdate(e){let{delay:t,startAnimation:n}=this.props,{startAnimation:i}=e;n&&i!==n&&(this.animationTimer=setTimeout(this.explode,t))}componentWillUnmount(){this.animationTimer&&clearTimeout(this.animationTimer),this.canvasRemovalTimer&&clearTimeout(this.canvasRemovalTimer)}render(){return(0,K.jsx)(m.xu,{ref:this.containerRef,children:(0,K.jsx)(m.xu,{ref:this.childrenContainerRef,children:this.props.children})})}}function ei(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Q(en,"defaultProps",{delay:0});let er=(e,t,n)=>{let i=[],r=t.current?.getBoundingClientRect(),a=n.current?.getBoundingClientRect();if(r&&a){let e={x:a.left-r.left,y:a.top-r.top},t={x:a.width/r.width,y:a.height/r.height};i.push(`translate(${e.x}px, ${e.y}px)`),i.push(`scale(${t.x}, ${t.y})`)}return{WebkitTransformOrigin:"left top",transformOrigin:"left top",WebkitTransform:e?i.join(" "):"none",transform:e?i.join(" "):"none",WebkitTransition:"all .5s ease-in-out",transition:"all .5s ease-in-out",borderRadius:e?"8px 0px 0px 0px":"8px",overflow:"hidden",marginBottom:24}},ea=e=>({pointerEvents:"none",opacity:+!!e,WebkitTransition:"opacity .4s ease-in-out",transition:"opacity .4s ease-in-out",zIndex:2}),eo=e=>({opacity:+!!e,WebkitTransform:e?"translateY(0)":"translateY(20%)",transform:e?"translateY(0)":"translateY(20%)",WebkitTransition:"all .25s ease-in-out .5s",transition:"all .25s ease-in-out .5s",textAlign:"center",marginTop:"50px"});class el extends h.PureComponent{constructor(...e){super(...e),ei(this,"state",{startAnimation:!1}),ei(this,"dismissTimer",null),ei(this,"pinRef",(0,h.createRef)()),ei(this,"pinDestinationRef",(0,h.createRef)()),ei(this,"handleAnimationAndCompletion",()=>{let{onComplete:e,savePin:t,selectedBoardName:n}=this.props;if(!n)return;let i=this.startAnimation();Promise.all([i,t(n)]).then(t=>{let[,i]=t;e(i,n)}).catch(e=>{i.then(()=>{e?.onError?.()})})}),ei(this,"startAnimation",()=>new Promise(e=>{this.setState({startAnimation:!0},()=>{this.dismissTimer=setTimeout(()=>{e()},2600)})}))}componentWillUnmount(){this.dismissTimer&&clearTimeout(this.dismissTimer)}componentDidUpdate(){let{selectedBoardName:e}=this.props,{startAnimation:t}=this.state;e&&!t&&this.handleAnimationAndCompletion()}render(){let{pinDominantColor:e,pinImageUrl:t,selectedBoardName:n}=this.props,{startAnimation:i}=this.state;return(0,K.jsxs)(h.Fragment,{children:[(0,K.jsx)(m.Le,{top:X.R$,zIndex:new m.Ry(3),children:(0,K.jsx)(m.xu,{alignItems:"center",color:i?"transparent":"default",display:"flex",justifyContent:"center",children:(0,K.jsx)(m.xu,{ref:this.pinRef,dangerouslySetInlineStyle:{__style:er(i,this.pinRef,this.pinDestinationRef)},height:84,position:"relative",width:84,children:(0,K.jsx)(m.Ee,{alt:this.props.i18n._('Pin image', 'Pin image on repin page', 'Pin image on repin page'),color:e,fit:"cover",naturalHeight:84,naturalWidth:84,src:t})})})}),(0,K.jsx)(m.xu,{bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:ea(i)},left:!0,position:"fixed",right:!0,top:!0,children:(0,K.jsxs)(m.kC,{alignItems:"center",direction:"column",height:"100%",justifyContent:"center",children:[(0,K.jsx)(en,{delay:1200,startAnimation:i,children:(0,K.jsx)(m.zd,{rounding:2,width:148,children:(0,K.jsx)(m.kC,{alignItems:"stretch",justifyContent:"start",wrap:!0,children:Array.from([,,,,]).map((e,t)=>{let n=t<=1,i=t%2,r=0===t?this.pinDestinationRef:null;return(0,K.jsx)(m.xu,{ref:r,color:0===t?"transparent":"secondary",height:72,marginBottom:+!!n,marginEnd:+!i,width:72},t)})})})}),(0,K.jsx)(m.xu,{dangerouslySetInlineStyle:{__style:eo(i)},paddingX:4,children:(0,K.jsx)(m.X6,{children:(0,j.nk)(this.props.i18n._('You saved your first Pin to {{ selectedBoardName }}!', 'First repin confirmation message', 'First repin confirmation message'),{selectedBoardName:n})})})]})})]})}}let es=function(e){let t=(0,w.ZP)();return(0,K.jsx)(el,{...e,i18n:t})};var ed=n(782251),ec=n(209348),eu=n(282919),eh=n(428725),ep=n(145127),e_=n(975740),eg=n(793698),em=n(588836),ef=n(681721),ey=n(87853),eb=n(629315),ex=n(978857),ev=n(744557),eP=n(438556);let eS=void 0!==i?i:i=n(148281);function eI({createSectionAndRepin:e,errorMessage:t,i18n:n,pin:i,setErrorMessage:r,useRoundedCorners:a}){let[o,l]=(0,h.useState)("");return(0,K.jsx)(eb.Z,{backButtonIcon:"arrow-back",errorMessage:t,name:o,onNameChange:e=>{r(""),l(e.target.value)},onNextButtonTouch:()=>{e(o,n)},selectedPinIds:[i.entityId],useRoundedCorners:a})}function ew(e){let{boardId:t,isEditingPin:n,onSuccess:i,pinKey:r,pinBoardId:a,pinSectionId:o,trackingParams:l,useRoundedCorners:s}=e,d=(0,S.Z)(eS,r),c=(0,p.I0)(),u=(0,g.k6)(),_=(0,w.ZP)(),{showToast:m}=(0,ey.F9)(),b=(0,f.Z)(),x=(0,eP.M)(),{checkExperiment:v}=(0,B.F)(),I=(0,y.cO)(),[j,k]=(0,h.useState)(""),A=e=>u.push(e);return(0,K.jsx)(eI,{createSectionAndRepin:e=>{let r=e=>k(e.message_detail||e.message);c((0,ex.Z)(t,[],e,b)).then(e=>{m(({hideToast:e})=>(0,K.jsx)(P.Z,{onHide:e,text:_._('Section added!', ' - ', ' -- ')}));let s=e.resource_response.data;c((0,eu.w)({checkExperiment:v,i18n:_,logContextEvent:b,pinId:d.entityId,boardId:t,onSuccess:n?void 0:()=>{I("Save",{pin_id:d.entityId}),i()},showToast:m,section:s,trackingParams:{clientTrackingParams:l,pinnedToBoardId:d.pinnedToBoard?d.pinnedToBoard.entityId:""},historyPush:A,savePinId:x?.save??(()=>{})})).then(()=>{d&&a&&c((0,ev.q)({pinId:d.entityId,boardId:a,boardSectionId:o,clientTrackingParams:l})).then(()=>d.pinnedToBoard?u.replace(d.pinnedToBoard.url??""):void 0)}).catch(r)}).catch(r)},errorMessage:j,i18n:_,pin:d,setErrorMessage:k,useRoundedCorners:s})}var ej=n(30216),ek=n(841982),eA=n(575108),eT=n(657043),eB=n(536652),eE=n(72918),eC=n(341742),eR=n(448505),eF=n(7872),eZ=n(370347),ez=n(352908),eO=n(548286),eL=n(189976),eM=n(831786),eD=n(936705),eN=n(696323),eH=n(482633);function eK({handleSelected:e}){let t=(0,w.ZP)(),n=(0,f.Z)();return(0,eC.Z)(()=>{n({component:7,element:11933,event_type:13,view_type:3})}),(0,K.jsx)(m.iP,{onTap:()=>{e(!1,null)},rounding:2,children:(0,K.jsxs)(m.xu,{alignItems:"center",column:12,"data-test-id":"board-picker-row",display:"flex",marginBottom:4,rounding:2,children:[(0,K.jsx)(m.xu,{alignItems:"center",color:"secondary",display:"flex",flex:"none",height:48,justifyContent:"center",rounding:2,width:48,children:(0,K.jsx)(m.JO,{accessibilityLabel:t._('Profile', 'save.ProfilePickerRow.IconAccessibilityLabel', 'Accessibility label for icon on option to save Pin to profile'),color:"default",icon:"history",size:22})}),(0,K.jsx)(m.xu,{direction:"column",display:"flex",justifyContent:"center",marginStart:2,overflow:"hidden",width:"100%",children:(0,K.jsx)(m.xv,{lineClamp:1,size:"400",weight:"bold",children:t._('Profile', 'save.ProfilePickerRow', 'Option to save Pin to profile')})})]})})}var eU=n(422578);function eW(){let e=(0,eU.useRelayEnvironment)();return(0,h.useCallback)(t=>{e&&(0,eU.commitLocalUpdate)(e,e=>{e.get(t)?.invalidateRecord()})},[e])}var e$=n(951121);let eY=void 0!==r?r:r=n(764227),eq=(e,t,n)=>({field_set_key:"detailed",id:e,preserve_component_state:t,...n?{orbac_subject_id:n}:Object.freeze({})});function eG({boards:e,boardsShortlist:t=[],closeModal:n,dismissFlyout:i,history:r,isEditingPin:a,isFromToast:o,logContextEvent:l,onSelect:s,originalPinId:d,pinKey:c,pinBoardId:u,saveToProfileEnabled:_,trackingParams:g}){let f=(0,w.ZP)(),b=(0,S.Z)(eY,c),x=eW(),v=(0,p.I0)(),I=(0,ez.Z)(),j=(0,eP.M)(),k=(0,N.g)(),A=(0,e$.B)(),T=(0,y.cO)(),E=r.location.state&&r.location.state.isOneTapSave,C=r.location.state?.isInlineSave,{checkExperiment:R}=(0,B.F)(),{showRepinConfirmation:Z,showToast:z}=(0,ed.Z)(),O=e=>r.push(e),L=t.map(e=>e.id);_&&L.unshift("PROFILE_PINS");let D=(0,eR.Z)(),H=(0,F.Z)(),U=(0,eF.lJ)(H,D),{logStat:W}=(0,eZ.Yg)();(0,eC.Z)(()=>{L&&l({event_type:13,clientTrackingParams:g.clientTrackingParams,component:7,element:1001,view_type:3,aux_data:{pin_id:b.entityId,suggested_boards:L}})});let $=({boardId:e,i18n:t,isQuickSave:n})=>(i(),W("main_pin_repin"),v((0,eu.w)({checkExperiment:R,i18n:t,isQuickSave:n,logContextEvent:l,pinId:b.entityId,boardId:e,onSuccess:()=>{T("Save",{pin_id:b.entityId,is_promoted:b.isPromoted}),r.goBack()},originalPinId:d,showRepinConfirmation:Z,trackingParams:g,historyPush:O,suggestedBoardIds:L,savePinId:(e,t)=>(k?.save(e),j?.save(e,t))}))),Y=e=>v((0,eD.a)({...e})),q=e=>v((0,eO.Br)(e)),G=(e,t)=>v((0,eE.Sr)("PinResource",eq(e.resource_response.data.id,!1,t),e)),V=(e,t)=>v((0,eE.jB)("PinResource",eq(e,!0,t))),X=(e,t)=>v((0,eL.EX)({feedId:e,feedType:eN.Z.BOARDLESS_PINS,itemIds:[t],itemType:"pin"})),Q=e=>v((0,eM.S)(e)),J=I({fn:async(e,t)=>{if(e&&t)s(t);else try{if(!a){let e=!t?.id,n=await $({boardId:t?.id,i18n:f,isQuickSave:e});if(E&&n){let e=n?.id;Y({boardId:t?.id,localPinId:e,pinId:b.entityId,nodeId:b.__id}),C&&A?.setIsInlineSave(b.entityId,t?.id)}}if(a){let e=t?.id,i={board_id:e,id:b.entityId,...U?{orbac_subject_id:U}:Object.freeze({})},a=u!==e;eA.Z.create("PinResource",i).callUpdate().then(t=>{a&&e&&u&&(Q({selectedPinIds:[b.entityId],source:{boardId:u,sectionId:void 0},target:{boardId:e,sectionId:void 0}}),q({boardId:e,sectionId:void 0,increment:1}),q({boardId:u,sectionId:void 0,increment:-1}),H.isAuth&&H.id&&!u&&X(H.id,b.entityId)),v((0,eB.b)("PinResource",{options:i})),V(b.entityId,U),x(b.__id),G(t,U),r.goBack()}),o&&n()}}catch(e){z(({hideToast:t})=>(0,K.jsx)(P.Z,{onHide:t,text:(0,eT.Z)(e,"message")||f._('Sorry! Something went wrong on our end.', 'error during repin', 'error during repin'),type:"error"}))}},modalHeader:(0,M.Bx)(f)});return(0,K.jsx)(h.Fragment,{children:(0,K.jsxs)(m.kC,{direction:"column",gap:4,children:[(0,K.jsxs)(m.xu,{children:[_&&(0,K.jsx)(eK,{handleSelected:J}),t.length>0&&(0,K.jsx)(m.xu,{marginBottom:4,marginTop:2,children:(0,K.jsx)(m.X6,{accessibilityLevel:3,size:"300",children:(0,K.jsx)(m.xv,{inline:!0,children:f._('Top choices', 'boardPicker.header.topChoices', 'Header of a list of user\'s boards')})})}),t.map(e=>(0,K.jsx)(eH.Z,{boardId:e.id,onBoardSelected:t=>J(t,e),showSingleBoardRep:!0},e.id))]}),(0,K.jsxs)(m.xu,{children:[(0,K.jsx)(m.xu,{marginBottom:4,children:(0,K.jsx)(m.X6,{accessibilityLevel:3,size:"300",children:(0,K.jsx)(m.xv,{inline:!0,children:f._('All boards', 'RepinFlow.BoardPickerList.AllBoards', 'Board picker list all boards title')})})}),e.map(e=>(0,K.jsx)(eH.Z,{boardId:e.id,onBoardSelected:t=>J(t,e),showSingleBoardRep:!0},e.id))]})]})})}var eV=n(366859);let eX=()=>(0,K.jsx)(m.xu,{color:"secondary",display:"inlineBlock",height:60,minWidth:60,overflow:"hidden",position:"relative",rounding:4,children:(0,K.jsxs)(h.Fragment,{children:[(0,K.jsx)(m.xu,{color:"default",dangerouslySetInlineStyle:{__style:{left:"50%"}},height:"100%",position:"absolute",width:1}),(0,K.jsx)(m.xu,{color:"default",dangerouslySetInlineStyle:{__style:{top:"50%"}},height:1,position:"absolute",right:!0,width:"50%"})]})});var eQ=n(611251),eJ=n(890774);let e0=void 0!==a?a:a=n(853213),e1=({allSuggestions:e,handleCreateBoard:t,index:n,isFBC:i,logContextEvent:r,pinViewParameter:a})=>{t(),r({aux_data:{board_title_list:JSON.stringify(e),is_fbc:i.toString(),selected_board_title_index:n},component:7,element:23,event_type:102,view_parameter:a,view_type:3})};function e2({isEditingPin:e,isFirstBoard:t,isFromToast:n,history:i,onFirstBoardCreate:r,originalPinId:a,pinBoardId:o,pinKey:l,pinSectionId:s,titleSuggestions:d,clientTrackingParams:c}){let u=(0,f.Z)(),h=(0,eJ.Z)(),_=(0,w.ZP)(),g=(0,ez.Z)(),{showRepinConfirmation:y}=(0,ed.Z)(),b=(0,p.I0)(),x=(0,S.Z)(e0,l),v=x.entityId,P=(0,eQ.A)({hasRichMetadata:!!x.richMetadata,hasRichMetadataProducts:!!x.richMetadata?.products,hasRichMetadataArticle:!!x.richMetadata?.article,hasRichMetadataRecipe:!!x.richMetadata?.recipe}),I=(0,eP.M)(),j=(0,N.g)(),k=(0,e_.gC)(),A=(0,O.Z)(c,x.trackingParams),T=e=>i.push(e),{checkExperiment:E}=(0,B.F)(),C=(0,e$.B)(),R=i.location.state?.isInlineSave,F=e=>{b((0,ev.q)({pinId:v,boardId:o||"",boardSectionId:s,clientTrackingParams:e}))},Z=async()=>{await F(A);let e=x.pinnedToBoard?.url;if(x.section){let t=`${e??""}${x.section.slug??""}/`;i.replace(t??"")}else i.replace(e??"")},z=t=>{h({boardCreateOptions:{name:t,initial_pin_client_tracking_params:[c],privacy:"public"}}).then(r=>{let{url:o="",id:l}=r||{};b((0,eu.w)({checkExperiment:E,i18n:_,logContextEvent:u,originalPinId:a,pinId:v,boardId:l,trackingParams:{clientTrackingParams:A,pinnedToBoardId:l},historyPush:T,savePinId:(e,t)=>(j?.save(e),I?.save(e,t))})).then(()=>{e?n?i.goBack():Z():(R&&C?.setIsInlineSave(x.entityId,l),i.goBack());let{href:r,text:a}=(0,ef.Z)(o,t,_),{duration:s,text:d,thumbnail:c}=(0,G.Z)({boardId:l,getReduxBoard:k,pinId:v,viewType:3});y(({hideToast:e})=>(0,K.jsx)(V.Z,{duration:s,href:r,onHide:e,text:d||a,thumbnail:c}))})})},L=g({fn:(e,n,i)=>{e1({allSuggestions:i,handleCreateBoard:()=>{t?r(n):z(n)},index:e,isFBC:t,logContextEvent:u,pinViewParameter:P})},modalHeader:(0,M.Bb)(_)});return d?d.map((e,t,n)=>(0,K.jsx)(m.xu,{children:(0,K.jsx)(eV.Z,{dataTestId:"board-suggestion-row-button",onTouch:()=>L(t,e,n),pressState:"none",rounding:2,children:(0,K.jsxs)(m.xu,{alignItems:"center",display:"flex",paddingY:2,rounding:2,children:[(0,K.jsx)(eX,{}),(0,K.jsx)(m.xu,{column:10,marginStart:3,children:(0,K.jsx)(m.X6,{size:"400",children:e})})]})},t)},t)):null}let e3=void 0!==o?o:o=n(182522),e8=e=>{let{v3GetPinQuery:t}=(0,_.useLazyLoadQuery)(e3,{pinId:e});if(t?.error?.message)throw t?.error;return t?.data?.boardTitleSuggestions?.map(({title:e})=>e).filter(Boolean)||[]},e5=void 0!==l?l:l=n(205725);function e6({allBoards:e,saveToProfileEnabled:t,boardsShortlist:n,closeModal:i,dismissFlyout:r,history:a,isEditingPin:o,isFromToast:l,onSelect:s,originalPinId:d,pin:c,pinBoardId:u,pinSectionId:p,trackingParams:_}){let g=(0,f.Z)();return(0,K.jsx)(h.Fragment,{children:(0,K.jsx)(eG,{boards:e,boardsShortlist:n,closeModal:i,dismissFlyout:r,history:a,isEditingPin:o,isFromToast:l,logContextEvent:g,onSelect:s,originalPinId:d,pinBoardId:u,pinKey:c,pinSectionId:p,saveToProfileEnabled:t,trackingParams:_})})}function e7({allBoards:e,boardsShortlist:t,closeModal:n,saveToProfileEnabled:i,dismissFlyout:r,history:a,isEditingPin:o,isFirstRepinExperience:l,isFromToast:s,onFirstBoardCreate:d,originalPinId:c,onSelect:u,pin:h,pinBoardId:p,pinSectionId:_,trackingParams:g,titleSuggestions:y}){let b=(0,w.ZP)(),x=l||0===e.length&&!i,v=(0,f.Z)(),P=()=>(0,K.jsx)(e2,{clientTrackingParams:g.clientTrackingParams,history:a,isEditingPin:o,isFirstBoard:x,isFromToast:s,onFirstBoardCreate:d,originalPinId:c,pinBoardId:p,pinKey:h,pinSectionId:_,titleSuggestions:y});return x?(0,K.jsxs)(m.xu,{paddingX:1,children:[(0,K.jsx)(m.xu,{marginBottom:4,children:(0,K.jsx)(m.xv,{children:b._('Tap to create your first board', 'CTA for board title suggestions', 'Explain to user that tapping on suggestion creates a board')})}),P()]}):(0,K.jsxs)(m.xu,{marginBottom:4,children:[(0,K.jsx)(eG,{boards:e,boardsShortlist:t,closeModal:n,dismissFlyout:r,history:a,isEditingPin:o,isFromToast:s,logContextEvent:v,onSelect:u,originalPinId:c,pinBoardId:p,pinKey:h,pinSectionId:_,saveToProfileEnabled:i,trackingParams:g}),y?(0,K.jsxs)(m.xu,{children:[(0,K.jsx)(m.xu,{paddingY:1,children:(0,K.jsx)(ek.Z,{children:(0,K.jsx)(m.iz,{})})}),(0,K.jsx)(m.xu,{paddingY:4,children:(0,K.jsx)(m.xv,{children:b._('Or tap to create a new board', 'boardPicker.suggestedBoardName.title', 'Title for repin page suggested board name section')})}),P()]}):(0,K.jsx)(m.xu,{paddingY:6,children:(0,K.jsx)(m.xH,{accessibilityLabel:b._('Loading repin page content', ' - ', ' -- '),show:!0})})]})}function e4({allBoards:e,boardsShortlist:t,closeModal:n,saveToProfileEnabled:i,dismissFlyout:r,history:a,isEditingPin:o,isFetchingBoards:l,isFirstRepinExperience:s,isFromToast:d,onFirstBoardCreate:c,onSelect:u,originalPinId:h,location:p,pinKey:_,pinBoardId:g,pinDescription:f,pinSectionId:y}){let b=(0,S.Z)(e5,_),x=e8(b.entityId),v=(0,w.ZP)(),P=p.state?p.state?.trackingParams:"",I=(0,ej.Z)({pinKey:b}),j={clientTrackingParams:(0,B.F)().checkExperiment("web_refactor_consume_ctp").anyEnabled?I:P,pinnedToBoardId:b.pinnedToBoard?b.pinnedToBoard.entityId:""};return e.length>0||!l?e.length>=10?(0,K.jsx)(e6,{allBoards:e,boardsShortlist:t,closeModal:n,dismissFlyout:r,history:a,isEditingPin:o,isFromToast:d,onSelect:u,originalPinId:h,pin:b,pinBoardId:g,pinDescription:f,pinSectionId:y,saveToProfileEnabled:i,trackingParams:j}):(0,K.jsx)(e7,{allBoards:e,boardsShortlist:t,closeModal:n,dismissFlyout:r,history:a,isEditingPin:o,isFirstRepinExperience:s,isFromToast:d,onFirstBoardCreate:c,onSelect:u,originalPinId:h,pin:b,pinBoardId:g,pinDescription:f,pinSectionId:y,saveToProfileEnabled:i,titleSuggestions:x,trackingParams:j}):(0,K.jsx)(m.xu,{paddingY:2,children:(0,K.jsx)(m.xH,{accessibilityLabel:v._('Loading repin page content', ' - ', ' -- '),show:!0})})}var e9=n(394962),te=n(611282);let tt=void 0!==s?s:s=n(727382);function tn({isEditingPin:e,isFirstBoardCreateActive:t,pinKey:n,pinBoardId:i,pinDescription:r,pinSectionId:a,trackingParams:o,onTouch:l,useIconWithBackground:s}){let d=(0,w.ZP)(),c=(0,S.Z)(tt,n),u=(0,te.Z)({href:{pathname:`/board/create/${c.entityId}/`,state:{isFirstBoardCreateActive:t,pinnedToBoardId:c.pinnedToBoard?c.pinnedToBoard.entityId:"",pinDescription:r,trackingParams:o,isEditingPin:e,pinBoardId:i,pinSectionId:a}}});return(0,K.jsx)(e9.Z,{hasTopShadow:s,height:s?void 0:70,children:(0,K.jsx)(m.iP,{onTap:({event:e})=>{l?.(),u({event:e})},children:(0,K.jsxs)(m.xu,{alignItems:"center","data-test-id":"repinCreateBoardButton",display:"flex",paddingX:+!!s,paddingY:+!s,children:[s?(0,K.jsx)(m.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{padding:"14px"}},rounding:2,children:(0,K.jsx)(m.JO,{accessibilityLabel:d._('Create board button', ' - ', ' -- '),color:"default",icon:"add",size:20})}):(0,K.jsx)(m.JO,{accessibilityLabel:d._('Create board button', ' - ', ' -- '),color:"error",icon:"add-circle",size:38}),(0,K.jsx)(m.xu,{marginStart:s?2:3,children:(0,K.jsx)(m.xv,{weight:"bold",children:d._('Create board', 'Create new board to Pin to', 'Create new board to Pin to')})})]})})})}var ti=n(120651),tr=n(993127);let ta=void 0!==d?d:d=n(428988),to=(e,t,n)=>({field_set_key:"detailed",id:e,preserve_component_state:t,...n?{orbac_subject_id:n}:Object.freeze({})});function tl({boardId:e,history:t,location:{search:n},showSectionRep:i,pinKey:r,onSuccess:a,trackingParams:o,dismissFlyout:l}){let s=(0,p.I0)(),d=(0,w.ZP)(),c=(0,S.Z)(ta,r),u=eW(),{showToast:h}=(0,ey.F9)(),_=new URLSearchParams(n),g=_.get("isEditingPin"),m=_.get("pinBoardId")??"",b=_.get("pinSectionId")??"",x=(0,O.Z)(o,c.trackingParams),v=(0,f.Z)(),P=(0,eP.M)(),{checkExperiment:I}=(0,B.F)(),j=e=>t.push(e),k=(0,eR.Z)(),A=(0,F.Z)(),T=(0,eF.lJ)(A,k),E=(0,y.cO)(),C=t=>{l(),s((0,eu.w)({checkExperiment:I,i18n:d,logContextEvent:v,pinId:c.entityId,boardId:e,onSuccess:g?void 0:()=>{E("Save",{pin_id:c.entityId,is_promoted:c.isPromoted}),a()},showToast:h,section:t,trackingParams:{clientTrackingParams:x,pinnedToBoardId:c.pinnedToBoard?c.pinnedToBoard.entityId:""},historyPush:j,savePinId:P?.save??(()=>{})})).then(()=>{t&&s((0,ti.Z)(t.id??""))})},R=e=>s((0,eO.Br)(e)),Z=(e,t)=>s((0,eE.Sr)("PinResource",to(e.resource_response.data.id,!1,t),e)),z=(e,t)=>s((0,eE.jB)("PinResource",to(e,!0,t))),L=(e,t)=>s((0,eL.EX)({feedId:e,feedType:eN.Z.BOARDLESS_PINS,itemIds:[t],itemType:"pin"})),M=e=>s((0,eM.S)(e)),D=async(e,n)=>{if(g||await C(n),g){let i=n?.id,r={board_id:e,board_section_id:i,id:c.entityId,...T?{orbac_subject_id:T}:Object.freeze({})},a=m!==e,o=b!==i;eA.Z.create("PinResource",r).callUpdate().then(n=>{(a||o)&&(M({selectedPinIds:[c.entityId],source:{boardId:m,sectionId:b||null},target:{boardId:e,sectionId:i}}),R({boardId:e,sectionId:i,increment:1}),R({boardId:m,sectionId:b,increment:-1}),A.isAuth&&A.id&&!m&&L(A.id,c.entityId)),s((0,eB.b)("PinResource",{options:r})),z(c.entityId,T),u(c.__id),Z(n,T),t.go(-2)})}};return(0,K.jsx)(tr.Z,{boardId:e,repin:D,showSectionRep:i})}function ts(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let td=void 0!==c?c:c=n(713443),tc=void 0!==u?u:u=n(252031);function tu({children:e}){let t=(0,p.v9)(({session:e})=>72+((0,k.Rq)(e.userAgentPlatform)?k.Vf:0));return(0,K.jsx)(m.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:t}},children:e})}class th extends h.PureComponent{constructor(...e){super(...e),ts(this,"state",{dupeWarningDismissed:!1,pinDescription:(this.props.pin.description||"").trim(),saved:!1,suggestedBoardName:void 0,trackingParams:(this.props.location.state||{}).trackingParams||"",warningAnchor:void 0,windowInnerHeight:"undefined"!=typeof window?window.innerHeight:0}),ts(this,"saved",()=>this.setState({saved:!0})),ts(this,"onResize",()=>{this.setState({windowInnerHeight:window.innerHeight})}),ts(this,"handleBackButtonTouch",()=>{let{logContextEvent:e,match:{params:{boardId:t}}}=this.props;e({view_type:21,view_parameter:87,component:7,element:t?34:75,event_type:102})}),ts(this,"handleDismissWarningFlyout",()=>this.setState({dupeWarningDismissed:!0})),ts(this,"handleFirstBoardCreateOnSuccess",(e,t)=>{let{closeupExperience:n,completeExperience:i,getReduxBoard:r,history:a,i18n:o,pinId:l,repinExperience:s,showRepinConfirmation:d,mountAfterActionPlacement:c}=this.props,{boardId:u,boardUrl:h}=e,{href:p,text:_}=(0,ef.Z)(h,t,o),{duration:g,text:m,thumbnail:f}=(0,G.Z)({boardId:u,getReduxBoard:r,isFBC:!0,pinId:l,viewType:21});a.goBack(),d(({hideToast:e})=>(0,K.jsx)(V.Z,{duration:g,href:p,onHide:e,text:m||_,thumbnail:f})),n&&n.placement_id&&503459===n.experience_id&&i(n.placement_id,n.experience_id),s&&L(s,501032)&&i(s.placement_id,s.experience_id),c("Save",{pin_id:this.props.pin.entityId,is_promoted:this.props.pin.isPromoted})}),ts(this,"handleSetSelectedBoard",e=>{let{history:t,pin:n,location:i}=this.props,{trackingParams:r}=this.state;this.isFirstBoardCreateActive()||t.push(`/board/create/${n.entityId}/${e}/`,{trackingParams:r,from:i.state?.from}),this.setState({suggestedBoardName:e})}),ts(this,"handleFirstBoardCreate",e=>{let{checkExperiment:t,createBoard:n,dispatch:i,history:r,location:a,logContextEvent:o,i18n:l,match:s,notifDetailRepinContext:d,pin:c,repinContext:u,showToast:h}=this.props,{trackingParams:p}=this.state,_=s.params.id,g=(0,O.Z)((a.state||{}).trackingParams),{search:m}=a,f=new URLSearchParams(m).get("originalPinId")??"",y=(0,O.Z)(p,c.trackingParams);return n({boardCreateOptions:{name:e,initial_pin_client_tracking_params:[g],privacy:"public"},deprecatedSchemaForNormalization:eh.IY}).then(e=>{let{url:n="",id:a}=e||{};return _&&i((0,eu.w)({checkExperiment:t,i18n:l,logContextEvent:o,originalPinId:f,pinId:_,boardId:a,trackingParams:{clientTrackingParams:y,pinnedToBoardId:a},historyPush:e=>r.push(e),savePinId:(e,t)=>(d?.save(e),u?.save(e,t))})),{boardId:a,boardUrl:n}},e=>{throw{onError:()=>{r.goBack(),h(({hideToast:t})=>(0,K.jsx)(P.Z,{onHide:t,text:e.message||this.props.i18n._('Sorry! Something went wrong on our end.', 'error creating board', 'error creating board'),type:"error"}))}}})}),ts(this,"handleSelectBoard",e=>{let{history:t,pin:n,location:i}=this.props,{search:r}=i,{trackingParams:a}=this.state,o=new URLSearchParams(r),l=!!o.get("isEditingPin"),s=o.get("pinBoardId")??"",d=o.get("pinSectionId")??"";l?t.push(`/pin/${n.entityId}/repin/${e.id}/?isEditingPin=true&pinBoardId=${s}&pinSectionId=${d}`,{trackingParams:a,from:i.state?.from}):t.push({pathname:`/pin/${n.entityId}/repin/${e.id}/`},{trackingParams:a,from:i.state?.from})}),ts(this,"handleClickAddSectionButton",()=>{let{pin:e,history:t,match:{params:{boardId:n}},location:i}=this.props;if(!n)return;let{search:r}=i,a=new URLSearchParams(r),o=!!a.get("isEditingPin"),l=a.get("pinBoardId")??"",s=a.get("pinSectionId")??"";o?t.push(`/pin/${e.entityId}/repin/${n}/add/?isEditingPin=true&pinBoardId=${l}&pinSectionId=${s}`,{from:i.state?.from}):t.push({pathname:`/pin/${e.entityId}/repin/${n}/add/`,state:{from:i.state?.from}})}),ts(this,"handleRepinToExistingSectionSuccess",()=>this.props.history.go(-2)),ts(this,"handleRepinToNewSectionSuccess",()=>this.props.history.go(-3)),ts(this,"handleRepinCreateBoardButtonTouch",()=>{this.props.logContextEvent({view_type:21,view_parameter:87,component:7,element:249,event_type:102})}),ts(this,"renderCreateScreen",()=>{let{pin:e,location:{search:t},match:{params:{boardId:n}}}=this.props,{trackingParams:i}=this.state,r=new URLSearchParams(t),a=!!r.get("isEditingPin"),o=r.get("pinBoardId")??"",l=r.get("pinSectionId")??"";return!!n&&(0,K.jsx)(ew,{boardId:n,isEditingPin:a,onSuccess:this.handleRepinToNewSectionSuccess,pinBoardId:o,pinKey:e,pinSectionId:l,trackingParams:i,useRoundedCorners:!0})}),ts(this,"isFirstBoardCreateActive",()=>{let{allBoards:e,isFetchingBoards:t,saveToProfileEnabled:n,repinExperience:i}=this.props;return!!L(i,501032)||!t&&0===e.length&&!n}),ts(this,"isBoardCreateEduActive",()=>{let{repinExperience:e}=this.props;return L(e,501021)}),ts(this,"completeBoardCreateEduExperience",()=>{let{completeExperience:e,repinExperience:t}=this.props;t&&this.isBoardCreateEduActive()&&e(t.placement_id,t.experience_id)}),ts(this,"renderPicker",()=>{let{allBoards:e,saveToProfileEnabled:t,boardsShortlist:n,history:i,isFetchingBoards:r,location:a,pin:o,match:{params:{boardId:l}},location:{search:s}}=this.props,{pinDescription:d,dupeWarningDismissed:c,saved:u,suggestedBoardName:h,trackingParams:p,warningAnchor:_}=this.state,g=d.trim(),{pinnedToBoard:f}=o,y=f?(0,j.nk)(this.props.i18n._('Psst! You already saved this Pin to {{ board_name }}', 'Toast for already having repinned pin', 'Toast for already having repinned pin'),{board_name:f.name}).join(" "):null,{dominantColor:b}=o,x=o.imageSpec_236x,v=x?x.url:"",P=new URLSearchParams(s),S=!!P.get("isEditingPin"),I=P.get("pinBoardId")??"",w=P.get("pinSectionId")??"",k=!!P.get("isFromToast"),B=P.get("originalPinId")??"",E=this.props.i18n._('Save Pin to', 'RepinPage.Section.Header.Title', 'title for section selection in repin flow'),C=new m.Ry(2),R=this.props.i18n._('Create board', 'Title for first board create', 'Title for first board create. NOTE: we are testing using "collections" in place of "boards" for new users'),F=this.props.i18n._('Save to board', 'boardPicker.header', 'Title for repin page'),O=l?E:0!==e.length||r||t?F:R;return(0,K.jsxs)(T.default,{hasFixedHeader:!0,children:[(0,K.jsx)(z.Z,{text:O}),(0,K.jsx)(A.default,{useRoundedCorners:!0,zIndex:C,children:(0,K.jsxs)(m.kC,{alignItems:"center",height:40,justifyContent:"start",children:[(0,K.jsx)(m.xu,{column:2,children:(0,K.jsx)(em.Z,{alignIconLeft:!0,color:"darkGray",icon:l?"arrow-back":"cancel",onTouch:this.handleBackButtonTouch,size:"sm"})}),(0,K.jsx)(m.xu,{column:8,children:(0,K.jsx)(m.xu,{"data-test-id":"repin-page-title",children:(0,K.jsx)(m.X6,{accessibilityLevel:2,align:"center",size:"300",children:(0,K.jsx)(m.xv,{inline:!0,weight:"bold",children:O})})})}),(0,K.jsx)(m.xu,{column:2})]})}),o.imageSpec_236x&&(this.isFirstBoardCreateActive()?(0,K.jsx)(es,{onComplete:this.handleFirstBoardCreateOnSuccess,pinDominantColor:b??"",pinImageUrl:v??"",savePin:this.handleFirstBoardCreate,selectedBoardName:h}):null),(0,K.jsx)(tu,{children:l?(0,K.jsx)(tl,{boardId:l,dismissFlyout:this.saved,history:i,location:a,onSuccess:this.handleRepinToExistingSectionSuccess,pinKey:o,showSectionRep:!0,trackingParams:p}):(0,K.jsx)(e4,{allBoards:e,boardsShortlist:n,closeModal:this.handleBackButtonTouch,dismissFlyout:this.saved,history:i,isEditingPin:S,isFetchingBoards:r,isFirstRepinExperience:this.isFirstBoardCreateActive(),isFromToast:k,location:a,onFirstBoardCreate:this.handleSetSelectedBoard,onSelect:this.handleSelectBoard,originalPinId:B,pinBoardId:I,pinDescription:g,pinKey:o,pinSectionId:w,saveToProfileEnabled:t})}),l?(0,K.jsx)(Z.Wx,{onAddNewSection:this.handleClickAddSectionButton,useIconWithBackground:!0}):(0,K.jsx)(D.Z,{modalHeader:(0,M.Bb)(this.props.i18n),nextLocation:`/board/create/${o.entityId}/`,children:(0,K.jsx)(tn,{isEditingPin:S,isFirstBoardCreateActive:this.isFirstBoardCreateActive(),onTouch:this.handleRepinCreateBoardButtonTouch,pinBoardId:I,pinDescription:g,pinKey:o,pinSectionId:w,trackingParams:p,useIconWithBackground:!0})}),x&&this.isBoardCreateEduActive()&&(0,K.jsx)(q,{completeExperience:this.completeBoardCreateEduExperience,pinDominantColor:b??"",pinImageHeight:x.height??1,pinImageUrl:v??"",pinImageWidth:x.width??1}),_&&!u&&o.pinnedToBoard&&!c&&y&&(0,K.jsx)(m.J2,{anchor:_,idealDirection:"down",onDismiss:this.handleDismissWarningFlyout,shouldFocus:!1,children:(0,K.jsx)(m.xu,{padding:3,children:(0,K.jsx)(m.xv,{weight:"bold",children:(0,K.jsx)("span",{children:y})})})})]})})}componentDidMount(){let{repinExperience:e,triggerExperimentsForPlacement:t,viewExperience:n}=this.props;t(1000153),e&&n(1000153,e.experience_id),window.addEventListener("resize",this.onResize)}componentWillUnmount(){window.removeEventListener("resize",this.onResize)}render(){return(0,K.jsx)(x.ZP,{accessibilityModalLabel:this.props.i18n._('Repin page', 'RepinPage.MobileModal.AccessibilityLabel', 'Accessibility label on repin page'),closeOnOutsideClick:!1,isOpen:!0,onDismiss:()=>{},type:"repinPage",children:(0,K.jsx)(m.xu,{height:this.state.windowInnerHeight-v.i_,paddingX:2,paddingY:0,children:(0,K.jsxs)(g.rs,{children:[(0,K.jsx)(g.AW,{exact:!0,path:"/pin/:id/repin/",render:this.renderPicker}),(0,K.jsx)(g.AW,{exact:!0,path:"/pin/:id/repin/:boardId/",render:this.renderPicker}),(0,K.jsx)(g.AW,{exact:!0,path:"/pin/:id/repin/:boardId/add/",render:this.renderCreateScreen})]})})})}}let tp=(e,t)=>{let n={field_set_key:"repin"},i=(0,I.Z)({strategy:t?"GRAPHQL":"LEGACY",query:tc,variables:{pinId:e},useGetLegacyData:({pinId:e})=>{let{data:t}=(0,C.Z)({name:"PinResource",options:{...n,id:e}});return t}}),r=i?.v3GetPinQuery?.__typename==="V3GetPin"?i.v3GetPinQuery?.data:null;return(0,S.Z)(td,r)},t_=e=>{let t=(0,p.v9)(e=>e.session.userId),{isFetching:n,data:i}=(0,C.Z)({name:"BoardPickerBoardsResource",options:{pin_id:e,field_set_key:"profile_grid_item",shortlist_length:2,shortlist_suggestions:3,user_id:t}}),r=i?.all_boards||[];return{isFetching:n,allBoards:(0,p.v9)(e=>(0,ep.Z)({...e,boards:r})||[]),boardsShortlist:i?.boards_shortlist||[]}};function tg({shouldFetchPinFromGraphQL:e}){let t=(0,g.k6)(),n=(0,g.TH)(),i=(0,g.$B)(),r=i.params.id??"",a=(0,w.ZP)(),o=(0,f.Z)(),l=(0,b.be)(),s=(0,b.Ig)(),d=(0,eJ.Z)(),c=(0,eg.Tt)(),u=(0,e_.gC)(),{isAuth:h}=(0,F.Z)(),_=(0,R.HG)(),m=tp(r,e),{isFetching:x,allBoards:v,boardsShortlist:P}=t_(r),{checkExperiment:S}=(0,B.F)(),I=(0,N.g)(),j=(0,eP.M)();(0,E.Z)({name:"UserResource",options:{user_id:c?.id,field_set_key:"quicksave"}});let k=(0,p.I0)(),A=(0,p.v9)(({experiences:e})=>e),T=(0,y.cO)(),{showToast:C,showRepinConfirmation:Z}=(0,ed.Z)(),{showEnabledSaveBehavior:z}=(0,ec.ZP)(c?.id||"");return!h||_?(0,K.jsx)(g.l_,{to:`/pin/${r}/`}):m?(0,K.jsx)(th,{allBoards:v,boardsShortlist:P,checkExperiment:S,closeupExperience:A[1000112],completeExperience:(e,t)=>k(l(e,t)),createBoard:d,dispatch:k,getReduxBoard:u,history:t,i18n:a,isFetchingBoards:x,location:n,logContextEvent:o,match:i,mountAfterActionPlacement:T,notifDetailRepinContext:I,pin:m,pinId:r,repinContext:j,repinExperience:A[1000153],saveToProfileEnabled:z,showRepinConfirmation:Z,showToast:C,triggerExperimentsForPlacement:e=>k((0,b.kd)(e)),viewExperience:(e,t)=>k(s(e,t))}):null}},209348:function(e,t,n){n.d(t,{tY:()=>u,ZP:()=>s,$7:()=>h,Yh:()=>c,Xt:()=>d});var i=n(581722),r=n(274320),a=n(886981),o=n(535701);let l={SAVE_TO_PROFILE:0,SHOW_BOARD_PICKER:1};function s(e){let t=(0,o.Z)(),n=t.isAuth&&t.id===e,{checkExperiment:i}=(0,r.F)(),l=(0,a.Z)(!t.isAuth||n?null:{name:"UserResource",options:{field_set_key:"quicksave",user_id:e}});return{showEnabledSaveBehavior:n&&t.has_quicksave_board||!!(t.isAuth&&(l??{}).data?.has_quicksave_board)||(n||t.isAuth)&&!t.has_quicksave_board&&!(l??{}).data?.has_quicksave_board&&i("profile_saves_for_all").anyEnabled}}function d(e){let t=(0,o.Z)(),n=t.isAuth&&t.id===e,i=(0,a.Z)(!t.isAuth||n?null:{name:"UserResource",options:{field_set_key:"quicksave",user_id:e}});return{boardlessPinsEnabled:n&&t.has_quicksave_board||!!(t.isAuth&&(i??{}).data?.has_quicksave_board)}}function c(e){let t=(0,i.I0)(),n=(0,o.Z)(),r=n.isAuth&&!!n.boardCount&&n.boardCount<5&&e,l=(0,a.Z)(r&&e?{name:"UserResource",options:{field_set_key:"save_behavior",user_id:n.isAuth&&n.id}}:null);return n.isAuth&&void 0===n.save_behavior&&l&&l.data?.id&&t({type:"UPDATE_USER_SAVE_BEHAVIOR",payload:{saveBehavior:l.data.save_behavior}}),{showEnabledSaveBehavior:r}}function u(e){let t,n=(0,o.Z)();return n.isAuth&&e&&(n.save_behavior===l.SAVE_TO_PROFILE?t={type:"classic"}:n.save_behavior===l.SHOW_BOARD_PICKER&&(t={type:"inline"})),{saveBehaviorType:t}}function h(){let e=(0,o.Z)();return e.isAuth&&(e?.secretBoardCount??0)>0}},889229:function(e,t,n){function i(e,t){return{type:"SECTION_ADDED",payload:{boardId:e,section:t}}}function r(e,t){return{type:"SECTION_DELETED",payload:{boardId:e,sectionId:t}}}n.d(t,{HG:()=>r,OQ:()=>a,hd:()=>i});let a=(e,t)=>({type:"BOARD_SECTION_EDIT",payload:t})},978857:function(e,t,n){n.d(t,{Z:()=>c});var i=n(782677),r=n(575108),a=n(72918),o=n(889229),l=n(189976),s=n(388023),d=n(696323);let c=(e,t,n,c)=>u=>{let h={board_id:e,initial_pins:t,name:n},p="BoardSectionResource";return r.Z.create(p,h).callCreate().then(n=>{let r=n.resource_response.data,_=(0,i.Fv)(r,s.Z[p]);return c({event_type:7100,object_id_str:r.id}),u((0,a.XM)(p,h,n,_)),u((0,o.hd)(e,r)),u((0,l.vX)({feedId:e,feedType:d.Z.BOARD_SECTIONS,itemIds:[r.id],itemType:"boardsection"})),t.length&&u({type:"PINS_MOVE",payload:{source:{boardId:e},target:{boardId:e,sectionId:r.id},pinIds:t}}),n})}},987782:function(e,t,n){n.d(t,{Z:()=>r});var i=n(575108);let r=e=>t=>{t({type:"PINS_MOVE_ALL",payload:e});let{source:n,target:r,excludePinIds:a}=e,o={board_id:n.boardId,new_board_id:r.boardId,pin_ids:a,old_section_id:n.sectionId,new_section_id:r.sectionId};return i.Z.create("BulkEditSelectAllResource",o).callUpdate()}},120651:function(e,t,n){n.d(t,{Z:()=>a});var i=n(575108),r=n(889229);let a=e=>t=>i.Z.create("BoardSectionResource",{section_id:e}).callGet().then(n=>{let i=n.resource_response.data||{id:"",title:""};return t((0,r.OQ)(e,i)),n})},74105:function(e,t,n){n.d(t,{Z:()=>r});var i=n(536652);function r(e,t,n){return(0,i.U)("BoardResource",{options:{board_id:e,field_set_key:t,...n?{orbac_subject_id:n}:{}}})}},831786:function(e,t,n){n.d(t,{S:()=>p,Z:()=>_});var i=n(575108),r=n(74105),a=n(225013),o=n(189976),l=n(686231),s=n(696323),d=n(697063);let c=e=>t=>{d.Z.showError(function(e,t){switch(e.api_error_code){case 2171:case 2172:case 2173:return t._('Please wait until the previous board action finishes.', ' - ', ' -- ');default:return e.message}}(t,e))},u=e=>(0,o.N8)(e.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,e.sectionId||e.boardId);function h(e,t){let{source:n,target:i}=e;i.boardId!==n.boardId?(t((0,r.Z)(n.boardId,"pin_count")),t((0,r.Z)(i.boardId,"pin_count"))):n.sectionId&&i.sectionId||t((0,r.Z)(i.boardId,"pin_count")),n.sectionId&&t((0,a.Z)(n.sectionId)),i.sectionId&&t((0,a.Z)(i.sectionId))}function p(e){return t=>{let{selectedPinIds:n,source:i,target:r}=e;t((0,o.EX)({feedId:i.sectionId||i.boardId,feedType:i.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,itemIds:n,itemType:"pin"})),t((0,o.vX)({feedId:r.sectionId||r.boardId,feedType:r.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,itemIds:n,itemType:"pin"})),n.forEach(e=>{t((0,l.Vp)({pinId:e,boardId:r.boardId,sectionId:r.sectionId||void 0,title:r.name||""}))}),h(e,t)}}function _(e,t){return n=>{let{selectedPinIds:r,target:a}=e;return r.forEach(e=>{n((0,l.Vp)({pinId:e,boardId:a.boardId,sectionId:a.sectionId||void 0,title:a.name||""}))}),(function(e,t,n){let{inverseSelection:r,selectedPinIds:a,source:l,target:d,orbacSubjectId:h}=e;if(l.boardId===d.boardId&&(l.sectionId||null)===(d.sectionId||null))return Promise.reject();if(r){let e={board_id:l.boardId,new_board_id:d.boardId,old_section_id:l.sectionId||void 0,new_section_id:d.sectionId||void 0,pin_ids:a,orbac_subject_id:h};return i.Z.create("BulkEditSelectAllResource",e).callUpdate({showError:!1}).then(()=>Promise.all([t(u(l)),t(u(d))])).catch(c(n))}{let e=(e,n)=>{t((0,o.EX)({feedId:e.sectionId||e.boardId,feedType:e.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,itemIds:a,itemType:"pin"})),t((0,o.vX)({feedId:n.sectionId||n.boardId,feedType:n.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,itemIds:a,itemType:"pin"}))};e(l,d);let r=()=>e(d,l);if(d.boardId===l.boardId)if(d.sectionId){let e={section_id:d.sectionId,pins:a,orbac_subject_id:h};return i.Z.create("BoardSectionEditResource",e).callUpdate({showError:!1}).catch(e=>{r(),c(n)(e)})}else{let e={section_id:l.sectionId,pins:a,orbac_subject_id:h};return i.Z.create("BoardSectionPinsResource",e).callDelete({showError:!1}).catch(e=>{r(),c(n)(e)})}{let e={board_id:d.boardId,section_id:d.sectionId||void 0,pin_ids:a,orbac_subject_id:h};return i.Z.create("BulkEditResource",e).callUpdate({showError:!1}).catch(e=>{r(),c(n)(e)})}}})(e,n,t).then(()=>h(e,n))}}},936705:function(e,t,n){n.d(t,{a:()=>i,k:()=>r});let i=e=>({type:"ONE_TAP_SAVE",payload:e}),r=e=>({type:"ONE_TAP_UNSAVE",payload:e})},744557:function(e,t,n){n.d(t,{L:()=>l,q:()=>d});var i=n(575108),r=n(548286),a=n(189976),o=n(696323);function l(e){return t=>{let{inSelectAll:n,selectedPinIds:l,orbacSubjectId:s,source:{boardId:d,sectionId:c}}=e;return t((0,r.xQ)(d)),t((0,a.EX)({feedId:c||d,feedType:c?o.Z.BOARD_SECTION_PINS:o.Z.BOARDFEED,inverseSelection:n,itemIds:l,itemType:"pin"})),i.Z.create(n?"BulkEditSelectAllResource":"BulkEditResource",{board_id:d,section_id:c,pin_ids:l,orbac_subject_id:s}).callDelete()}}let s=(e,t,n,i)=>({type:"PIN_DELETE",payload:{pinId:e,boardId:t,boardSectionId:n,userId:i}}),d=({pinId:e,boardId:t,boardSectionId:n,clientTrackingParams:r})=>(a,o)=>{let l=i.Z.create("PinResource",{id:e,client_tracking_params:r}).callDelete(),{session:{userId:d}}=o();return a(s(e,t,n,d)),l}},282919:function(e,t,n){n.d(t,{w:()=>a});var i=n(370347),r=n(611251);let a=({pinId:e,boardId:t,checkExperiment:a,i18n:o,isQuickSave:l,logContextEvent:s,onSuccess:d,originalPinId:c,showNewUserSavetoProfileAnimation:u,showRepinConfirmation:h,showToast:p,section:_,trackingParams:g,isOneTapSave:m,viewParameter:f,viewType:y,historyPush:b,suggestedBoardIds:x,savePinId:v})=>async(P,S)=>{let{pins:I,session:w}=S(),j=I[e],{default:k}=await n.e("20019").then(n.bind(n,116856)),A=new k({boardId:t,dispatch:P,i18n:o,isOneTapSave:m,isQuickSave:l,onSuccess:d,originalPinId:c,pinId:j.id,section:_,showNewUserSavetoProfileAnimation:u,showRepinToasts:e=>h?h(e):p?p(e):void 0,trackingParams:g,userId:w.userId,viewParameter:f,viewType:y,historyPush:b,suggestedBoardIds:x,savePinId:v,pinData:{trackingParams:j.tracking_params,viewParameter:(0,r.A)({hasRichMetadata:!!j.rich_metadata,hasRichMetadataProducts:!!j.rich_metadata?.products,hasRichMetadataArticle:!!j.rich_metadata?.article,hasRichMetadataRecipe:!!j.rich_metadata?.recipe}),pinnedToBoardId:j.pinned_to_board?.id}});return(0,i.ib)({checkExperiment:a,isAuthMweb:w.isAuthenticated&&(w.isMobile||w.isTablet)}),A.processRepin(s)}},258644:function(e,t,n){n.d(t,{Cp:()=>l,FK:()=>o,H5:()=>f,MI:()=>p,O0:()=>h,QZ:()=>a,W:()=>g,WF:()=>d,a5:()=>c,e0:()=>u,e2:()=>r,iW:()=>m,n1:()=>i,rm:()=>s,xu:()=>_});let i=()=>({type:"DISMISS_UNAUTH_SAVE"}),r=()=>({type:"COMPLETE_UNAUTH_SAVE_ACTION"}),a=e=>({type:"SET_UNAUTH_SAVE_PIN_ID",payload:{unauthSavePinId:e}}),o=()=>({type:"HIDE_NAV_FOOTER"}),l=()=>({type:"SHOW_NAV_FOOTER"}),s=e=>({type:"SET_LOGIN_SIGNUP_FROM",payload:{from:e}}),d=()=>({type:"SHOW_REPIN_ANIMATION"}),c=()=>({type:"HIDE_REPIN_ANIMATION"}),u=e=>({type:"SET_NUM_SIGNUP_STEPS",payload:{steps:e}}),h=()=>({type:"SET_OWN_PROFILE_PINS_REFRESH"}),p=e=>({type:"SHOW_BIZ_NUX_HOMEFEED_LOADER",payload:e}),_=e=>({type:"SET_VIEWED_IMAGE",payload:{viewedImageSignature:e}}),g=()=>({type:"DISMISS_UNAUTH_APP_UPSELL"}),m=e=>e?{type:"LOGGED_OUT_USER_INFO_FOUND",payload:e}:{type:"LOGGED_OUT_USER_INFO_NOT_FOUND"},f=e=>({type:"UPDATE_USER_FIRST_HOME_FEED_REQUEST_AFTER_NUX",payload:e})},145127:function(e,t,n){n.d(t,{Z:()=>i});let i=(0,n(442279).createSelector)(({users:e,boards:t,session:n})=>{let i=e[n.userId]||null;return Object.keys(t).reduce((e,n)=>{let r=t[n];return!r.archived_by_me_at&&(r.owner?.id===i?.id||r.collaborating_users&&r.collaborating_users.map(({id:e})=>e).includes(i?.id))&&r.cover_images?e.concat([r]):e},[])},e=>e.sort((e,t)=>e.name.localeCompare(t.name)))},588836:function(e,t,n){n.d(t,{Z:()=>f});var i=n(581722),r=n(616550),a=n(883119),o=n(111330),l=n(521009),s=n(346955),d=n(667835),c=n(525839),u=n(506662),h=n(753143),p=n(941404),_=n(572227),g=n(647709),m=n(785893);function f({alignIconLeft:e,bgColor:t,color:n,disableRedirect:f=!1,fallbackUrl:y,icon:b="arrow-back",onTouch:x,padding:v,placement:P,shouldUseFallbackUrl:S,size:I="lg",viewParameter:w,viewType:j,isVisualSearch:k}){let A=(0,c.ZP)(),T=(0,r.k6)(),B=(0,r.TH)(),E=(0,g.HG)(),C=(0,i.v9)(e=>e.session.isAuthenticated),R=(0,l.Z)(),F=(0,_.Z)(),Z=(0,d.vs)(),{viewType:z,viewParameter:O}=(0,s.SU)(),[L,M]=j?[j,w]:[z,O],D=()=>B.search&&B.search.includes("?nativeShouldDismiss=true"),N=()=>{let e=(0,h.M0)().getItem(o.pm);B.key||"/ideas"!==y?(0,p.My)(`pinner_conversion.back_button.${String(e?.[0].pageType)}`):(0,p.My)("pinner_conversion.back_button.no_history"),(0,p.My)(`web_back_button_click.${String(P)}.is_auth_${String(C)}`),F({action:"click",item:"back-button"}),L&&R({view_type:L,view_parameter:M,element:34,event_type:102}),x&&x(),f||((!B.key||B.state&&"redirect"===B.state.referrer||S)&&y?T.push(y):B.pathname.includes("/password/reset/")&&D()?T.push("/login/?dismissWebview=true"):T.goBack())},H=Z?d.t4:"white",K=(0,u.am)(B)||k||"white"===n;return(0,m.jsx)(a.xu,{"data-test-id":"back-button",children:e?(0,m.jsx)(a.xu,{alignItems:"center",display:"flex",height:48,marginStart:"cancel"===b?-1:-2,width:48,children:(0,m.jsx)(a.hU,{accessibilityLabel:A._('Back', 'navigation button', 'navigation button'),bgColor:t,icon:b,iconColor:!n&&(!t||["white","lightGray","transparent"].includes(t))?"gray":n,onClick:N,padding:"auto"!==v?v:2,size:I})}):(0,m.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:E||K||t?"":H,width:Z&&!K?"fit-content":""}},rounding:"circle",children:(0,m.jsx)(a.hU,{accessibilityLabel:A._('Back', 'navigation button', 'navigation button'),bgColor:t||E?t:"transparent",icon:b,iconColor:!n&&(!t||["white","lightGray","transparent"].includes(t))?"gray":n,onClick:N,padding:"auto"!==v?v:2,size:I})})})}},482633:function(e,t,n){n.d(t,{Z:()=>c});var i=n(581722),r=n(883119),a=n(525839),o=n(302148),l=n(352908),s=n(786942),d=n(785893);function c({boardId:e,onBoardSelected:t,noArrowIcon:n,showSingleBoardRep:c}){let u=(0,a.ZP)(),h=(0,i.v9)(({boards:e})=>e)[e],p=h.section_count,_=!!p&&p>0,g=(0,l.Z)(),m=h.name??"this board";return(0,d.jsx)(r.iP,{accessibilityLabel:(0,o.Wc)(`${u._('Select {{ boardName }}', 'board.picker.row.select.board', 'Accessibility label for select board button')}`,{boardName:m}),onTap:g({fn:()=>t(_)}),rounding:2,tapStyle:"compress",children:(0,d.jsx)(s.Z,{boardId:e,noArrowIcon:n,showSingleBoardRep:c})})}},786942:function(e,t,n){n.d(t,{Z:()=>h});var i=n(667294),r=n(581722),a=n(883119),o=n(525839),l=n(302148),s=n(134475),d=n(734263),c=n(222401),u=n(785893);function h({boardId:e,navigateToBoard:t,noArrowIcon:n,showCollaborators:h,showSingleBoardRep:p,shouldShowPinAndSectionCount:_}){let g=(0,o.ZP)(),m=(0,r.v9)(({boards:e})=>e)[e],f=(m.collaborating_users||[]).map(e=>({name:e.username??"",src:"https://s.pinimg.com/images/user/default_75.png"===e.image_medium_url?"":e.image_medium_url??""})),y="",b=f.slice(0,3).map(e=>e.name);switch(f.length){case 3:y=(0,l.Wc)(`${g._('{{ first }}, {{ second }}, and {{ last }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.ThreeAvatars', 'List of three usernames')}`,{first:`${b[0]}`,second:`${b[1]}`,last:`${b[2]}`});break;case 2:y=(0,l.Wc)(`${g._('{{ first }} and {{ second }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.TwoAvatars', 'List of two usernames.')}`,{first:`${b[0]}`,second:`${b[1]}`});break;default:y=b.join(", ")}let x=f.length>3?(0,l.Wc)(g.ngettext('Collaborators: {{ userNames }} and {{ leftCount }} more.', 'Collaborators: {{ userNames }} and {{ leftCount }} more.', f.length - 3, 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.aboveThree', 'Accessibility label that lists the names of collaborators and a final count of non-displayed avatars'),{userNames:y,leftCount:`${f.length-3}`}):(0,l.Wc)(`${g._('Collaborators: {{ userNames }}.', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.notAboveThree', 'Accessibility label that lists the names of collaborators')}`,{userNames:y}),v=new a.Ry(0),P=m.pin_count,S=m.section_count,I=(0,u.jsx)(i.Fragment,{children:(0,u.jsx)(a.xu,{"data-test-id":S?"boardWithSection":"boardWithoutSection",children:(0,u.jsxs)(a.xu,{alignItems:"center",column:12,"data-test-id":"board-picker-row",display:"flex",marginBottom:4*!!p,rounding:2,children:[(0,u.jsx)(a.xu,{paddingY:2*!p,children:p?(0,u.jsx)(a.xu,{height:48,overflow:"hidden",width:48,children:(0,u.jsx)(a.zd,{height:"100%",rounding:2,width:"100%",children:(0,u.jsx)(a.Ee,{alt:"",color:"lightGray",fit:"cover",naturalHeight:1,naturalWidth:1,src:m.image_cover_url||" "})})}):(0,u.jsx)(a.xu,{height:60,overflow:"hidden",rounding:4,width:60,children:(0,u.jsx)(c.default,{boardKey:{type:"deprecated",data:m},fullSize:!0,hideSecretBoardIcon:!0,type:"thumbnail",viewType:void 0})})}),(0,u.jsxs)(a.kC,{alignItems:"center",flex:"grow",justifyContent:"between",children:[(0,u.jsxs)(a.xu,{direction:"column",display:"flex",justifyContent:"center",marginStart:p?2:4,overflow:p?"hidden":"auto",width:"100%",children:[(0,u.jsx)(a.xv,{lineClamp:p?1:void 0,size:"400",weight:"bold",children:m.name}),_&&(0,u.jsxs)(a.kC,{children:[(0,u.jsx)(a.xv,{inline:!0,children:!!P&&(0,l.nk)(g.ngettext('{{ PinCount }} Pin', '{{ PinCount }} Pins', P ?? 0, 'BoardRow.pinCount', 'Number of Pins on board or section, pinCount: number of Pins'),{PinCount:P})}),!!P&&!!S&&(0,u.jsx)(d.Z,{}),(0,u.jsx)(a.xv,{inline:!0,children:!!S&&(0,l.nk)(g.ngettext('{{ sectionCount }} section', '{{ sectionCount }} sections', S ?? 0, 'BoardRow.sectionCount', 'Number of sections on board, sectionCount: number of sections'),{sectionCount:S})})]})]}),(0,u.jsxs)(a.kC,{alignItems:p?"center":"start",justifyContent:"start",children:["secret"===m.privacy&&(0,u.jsx)(a.xu,{marginStart:p?3:1,children:(0,u.jsx)(a.JO,{accessibilityLabel:g._('secret board icon', ' - ', ' -- '),color:p?"default":"subtle",icon:"lock"})}),m.is_collaborative&&(p||h)&&f.length>0?(0,u.jsx)(a.xu,{zIndex:v,children:(0,u.jsx)(a.HE,{accessibilityLabel:s.U+x,collaborators:f,size:1===f.length?"sm":"xs"})}):m.is_collaborative&&(0,u.jsx)(a.xu,{marginStart:1,children:(0,u.jsx)(a.JO,{accessibilityLabel:g._('group board icon', ' - ', ' -- '),icon:"people"})}),!n&&!!m.section_count&&(0,u.jsx)(a.xu,{"data-test-id":"boardSectionPicker",marginStart:3*!!p,children:(0,u.jsx)(a.JO,{accessibilityLabel:g._('board section board picker icon', ' - ', ' -- '),color:p?"default":"subtle",icon:"arrow-forward"})})]})]})]})})});return t&&m.url?(0,u.jsx)(a.Tg,{href:m.url,rounding:2,tapStyle:"compress",children:I}):I}},993127:function(e,t,n){n.d(t,{Z:()=>g});var i=n(581722),r=n(616550),a=n(883119),o=n(525839),l=n(374078),s=n(975740),d=n(482633),c=n(302148),u=n(366859),h=n(785893);function p({onSectionSelected:e,sectionId:t,showSectionRep:n}){let r=(0,i.v9)(({boardsections:e})=>e[t]),l=(0,o.ZP)(),s=r&&r.preview_pins?.[0]&&r.preview_pins[0].image_medium_url,d=r?.title??"";return(0,h.jsx)(u.Z,{onTouch:e,pressState:"none",rounding:2,children:(0,h.jsxs)(a.xu,{alignItems:"center",column:12,"data-test-id":"sectionPickerRow",display:"flex",marginBottom:4*!!n,rounding:2,children:[n&&(0,h.jsx)(a.xu,{height:48,width:51,children:(0,h.jsx)(a.zd,{height:"100%",rounding:2,width:"100%",children:s&&(0,h.jsx)(a.Ee,{alt:(0,c.Wc)(l._('{{ boardSectionName }} thumbnail', 'SectionPickerRow.boardImage.accessibilityLabel.text', 'Additional text explaining board image thumbnail. boardSectionName:Title of the board section for a11y text'),{boardSectionName:d}),color:"lightGray",fit:"cover",naturalHeight:1,naturalWidth:1,src:s})})}),!n&&(0,h.jsx)(a.xu,{column:1,paddingY:2}),(0,h.jsx)(a.xu,{column:11,display:"flex",flex:"grow",justifyContent:"between",paddingY:2,children:n?(0,h.jsx)(a.xu,{marginStart:2,overflow:"hidden",width:"100%",children:(0,h.jsx)(a.xv,{lineClamp:1,size:"400",weight:"bold",children:r?.title})}):(0,h.jsx)(a.xu,{marginStart:2,children:(0,h.jsx)(a.xv,{weight:"bold",children:r?.title})})})]})})}let _=(e,t)=>{let{isFetching:n}=(0,l.Z)({name:"BoardSectionsRepinResource",options:{board_id:e}}),r=(0,i.v9)(({feeds:t})=>(t[`board-sections:${e}`]||[]).reduce((e,t)=>{if("boardsection"===t.type){let n={type:"boardsection",id:t.id};e.push(n)}return e},[])),a=(0,i.v9)(n=>r.map(e=>e.id).reduce((i,r)=>{let a=n.boardsections[r??""];return r!==t&&a&&i.push({board:{id:e},id:a.id,title:a.title,type:"boardsection",slug:a.slug}),i},[]));return{isFetching:n,boardSections:r,filteredBoardSections:a}};function g({boardId:e,originalBoardId:t,sectionId:n,repin:i,hideBoardPickerRow:l,showSectionRep:c}){let u=(0,o.ZP)(),{isFetching:g,boardSections:m,filteredBoardSections:f}=_(e,n),y=(0,r.k6)(),b=(0,s.gC)()(t||"");return(0,h.jsxs)(a.xu,{children:[m.length>0&&(0,h.jsxs)(a.xu,{paddingY:3*!c,children:[c&&(0,h.jsx)(a.xu,{paddingY:2,children:(0,h.jsx)(a.xu,{marginBottom:2,children:(0,h.jsx)(a.X6,{accessibilityLevel:3,size:"300",children:(0,h.jsx)(a.xv,{inline:!0,children:u._('Board', 'RepinFlow.SectionPickerList.Board', 'Section picker board title')})})})}),!l&&(0,h.jsx)(d.Z,{boardId:e,noArrowIcon:!0,onBoardSelected:()=>i(e,void 0,u),showSingleBoardRep:c},e),c&&(0,h.jsx)(a.xu,{paddingY:4,children:(0,h.jsx)(a.X6,{accessibilityLevel:3,size:"300",children:(0,h.jsx)(a.xv,{inline:!0,children:u._('Section', 'RepinFlow.SectionPickerList.Section', 'Section picker all sections title')})})}),f.map(n=>(0,h.jsx)(p,{onSectionSelected:()=>{i(e,n,u),t&&y.push(b?.url??"")},sectionId:n.id??"",showSectionRep:c},n.id))]}),(0,h.jsx)(a.xH,{accessibilityLabel:u._('Loading board section for repin flow', ' - ', ' -- '),show:g})]})}},681721:function(e,t,n){n.d(t,{Z:()=>r});var i=n(302148);let r=(e,t,n)=>({text:t?(0,i.nk)(n._('Saved to {{ board }}', 'Board saved message', 'Board saved message'),{board:t}).join(" "):n._('Saved to new board', 'Board saved message if the new board\'s name is not found', 'Board saved message if the new board\'s name is not found'),href:e})},611251:function(e,t,n){n.d(t,{A:()=>i});let i=({hasRichMetadata:e,hasRichMetadataProducts:t,hasRichMetadataArticle:n,hasRichMetadataRecipe:i})=>e?t?144:n?141:i?145:139:140},951121:function(e,t,n){n.d(t,{B:()=>l,f:()=>s});var i=n(667294),r=n(729434),a=n(785893);let{Provider:o,useMaybeHook:l}=(0,r.Z)("InlineSaveContext");function s({children:e}){let[t,n]=(0,i.useState)(Object.freeze({})),r=(0,i.useMemo)(()=>({getIsInlineSave:e=>!!t[e],setIsInlineSave:(e,t)=>n(n=>({...n,[e]:t})),unsave:e=>n(t=>{let n={...t};return delete n[e],n})}),[t]);return(0,a.jsx)(o,{value:r,children:e})}},438556:function(e,t,n){n.d(t,{M:()=>l,Q:()=>s});var i=n(667294),r=n(729434),a=n(785893);let{Provider:o,useMaybeHook:l}=(0,r.Z)("RepinContext");function s({children:e}){let[t,n]=(0,i.useState)(Object.freeze({})),r=(0,i.useMemo)(()=>({getSavedPinId:e=>t[e],isSaved:e=>!!t[e],save:(e,t)=>n(n=>({...n,[e]:t})),unsave:e=>n(t=>({...t,[e]:null}))}),[t]);return(0,a.jsx)(o,{value:r,children:e})}},783556:function(e,t,n){n.d(t,{k:()=>o,w:()=>a});var i=n(883119),r=n(252564);let a=2e3,o=new i.H3([r.Z])},890774:function(e,t,n){n.d(t,{Z:()=>c});var i=n(581722),r=n(782677),a=n(575108),o=n(877956),l=n(440568),s=n(536652),d=n(72918);function c(){let e=(0,i.I0)(),t=(0,i.v9)(e=>e.resources);return async function({boardCreateOptions:n,deprecatedSchemaForNormalization:i}){let c=await a.Z.create("BoardResource",n).callCreate(),u=c.resource_response.data,h=i?(0,r.Fv)(u,i):void 0;e((0,d.XM)("BoardResource",n,c,h)),e((0,o.fO)({event_type:20})),u.owner?.id&&e((0,s.b)("UserResource",{options:{user_id:u.owner.id,field_set_key:"save_behavior"}}));let p=t.BoardsResource||{},_=t.BoardsFeedResource||{};return Object.keys(p).forEach(t=>{(0,l.k)(t).username===u.owner?.username&&e((0,d.jB)("BoardsResource",t))}),Object.keys(_).forEach(t=>{(0,l.k)(t).username===u.owner?.username&&e((0,d.jB)("BoardsFeedResource",t))}),u}}},867576:function(e,t,n){n.d(t,{Z:()=>m});var i,r=n(616550),a=n(15667),o=n(647709);n(167912);var l=n(741078),s=n(140521),d=n(779548),c=n(394887),u=n(785893);let h=void 0!==i?i:i=n(645632);function p({pinKey:e}){let t=(0,d.Z)(h,e);return t?(0,u.jsx)(c.Z,{type:"authDesktop",children:t.isEligibleForPdp?(0,u.jsx)(s.Z,{showRepin:!0}):(0,u.jsx)(l.ZP,{showRepin:!0})}):null}var _=n(935404),g=n(169053);let m=function(){let{id:e}=(0,r.UO)(),t=(0,o.ZP)(),{isAuthenticated:n}=(0,a.B)(),i=(0,g.S6)(),l=e?i(e):null;return n?"desktop"===t?(0,u.jsx)(p,{pinKey:null!=l?{type:"deprecated",data:l}:null}):(0,u.jsx)(_.ZP,{shouldFetchPinFromGraphQL:!0}):(0,u.jsx)(r.l_,{to:`/pin/${e??""}/`})}},555871:function(e,t,n){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||[]).push(["www/pin/[id]/repin",function(){return n(867576).Z}])}},function(e){e.O(0,["22171","25418","27766","31262","32959","35024","35502","38457","39176","45591","49453","5372","56184","64332","67424","71735","75729","7656","76891","77241","78653","79226","83141","84539","86316","87273","87707","91757","92184","92651","93120","9748","99638","99912"],function(){return e(e.s=555871)}),e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/pin/[id]/repin-7b0b6195a2e87569.mjs.map